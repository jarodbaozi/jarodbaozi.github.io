/*! @preserve @jsc/bilibili-h5-player: 0.2.0-5017778 (2019-10-09T07:14:47.181Z) */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=141)}([function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(4),r=n(13).f,a=n(15),s=n(27),c=n(28),l=n(79),u=n(82);t.exports=function(t,e){var n,p,d,f,h,m=t.target,y=t.global,v=t.stat;if(n=y?o:v?o[m]||c(m,{}):(o[m]||{}).prototype)for(p in e){if(f=e[p],d=t.noTargetGet?(h=r(n,p))&&h.value:n[p],!u(y?p:m+(v?".":"#")+p,t.forced)&&void 0!==d){if(i(f)===i(d))continue;l(f,d)}(t.sham||d&&d.sham)&&a(f,"sham",!0),s(n,p,f,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(1);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object",o=function(t){return t&&t.Math==Math&&t};t.exports=o(("undefined"==typeof globalThis?"undefined":n(globalThis))==i&&globalThis)||o(("undefined"==typeof window?"undefined":n(window))==i&&window)||o(("undefined"==typeof self?"undefined":n(self))==i&&self)||o(("undefined"==typeof global?"undefined":n(global))==i&&global)||Function("return this")()},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(61),r=n(124),a=Object.prototype.toString;function s(t){return"[object Array]"===a.call(t)}function c(t){return null!==t&&"object"===i(t)}function l(t){return"[object Function]"===a.call(t)}function u(t,e){if(null!=t)if("object"!==i(t)&&(t=[t]),s(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},
isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:l,isStream:function(t){return c(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,o){"object"===i(e[o])&&"object"===i(n)?e[o]=t(e[o],n):e[o]=n}for(var o=0,r=arguments.length;o<r;o++)u(arguments[o],n);return e},deepMerge:function t(){var e={};function n(n,o){"object"===i(e[o])&&"object"===i(n)?e[o]=t(e[o],n):"object"===i(n)?e[o]=t({},n):e[o]=n}for(var o=0,r=arguments.length;o<r;o++)u(arguments[o],n);return e},extend:function(t,e,n){return u(e,(function(e,i){t[i]=n&&"function"==typeof e?o(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var i=n(2),o=n(41),r=n(11),a=n(14),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(r(t),e=a(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(40);t.exports=function(t){return Object(i(t))}},function(t,e,n){t.exports=n(123)},function(t,e,n){var i=n(25),o=n(40);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(3);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(4),o=n(16),r=n(22),a=n(49),s=i.Symbol,c=o("wks");t.exports=function(t){return c[t]||(c[t]=a&&s[t]||(a?s:r)("Symbol."+t))}},function(t,e,n){var i=n(2),o=n(19),r=n(20),a=n(10),s=n(14),c=n(7),l=n(41),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(c(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e,n){var i=n(3);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(2),o=n(6),r=n(20);t.exports=i?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(4),o=n(28),r=n(29),a=i["__core-js_shared__"]||o("__core-js_shared__",{});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:r?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports={}},function(t,e,n){var i=n(47),o=n(33);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(16),o=n(22),r=i("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e,n){var i=n(1);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var i=n(29),o=n(4),r=n(1);t.exports=i||!r((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}))},function(t,e,n){var i=n(1),o=n(26),r="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?r.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(4),o=n(16),r=n(15),a=n(7),s=n(28),c=n(43),l=n(44),u=l.get,p=l.enforce,d=String(c).split("toString")
;o("inspectSource",(function(t){return c.call(t)})),(t.exports=function(t,e,n,o){var c=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||r(n,"name",e),p(n).source=d.join("string"==typeof e?e:"")),t!==i?(c?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=n:r(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c.call(this)}))},function(t,e,n){var i=n(4),o=n(15);t.exports=function(t,e){try{o(i,t,e)}catch(n){i[t]=e}return e}},function(t,e){t.exports=!1},function(t,e,n){t.exports=n(4)},function(t,e,n){var i=n(47),o=n(33).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(48),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(6).f,o=n(7),r=n(12)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(17),r=n(3),a=n(7),s=n(6).f,c=n(22),l=n(23),u=c("meta"),p=0,d=Object.isExtensible||function(){return!0},f=function(t){s(t,u,{value:{objectID:"O"+ ++p,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==i(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},getWeakData:function(t,e){if(!a(t,u)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},onFreeze:function(t){return l&&h.REQUIRED&&d(t)&&!a(t,u)&&f(t),t}};o[u]=!0},function(t,e,n){var i=n(7),o=n(8),r=n(21),a=n(60),s=r("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.prototype.hasOwnProperty,r=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],o=0;o<e.length;++o)for(var a=e[o],s=a.obj[a.prop],c=Object.keys(s),l=0;l<c.length;++l){var u=c[l],p=s[u];"object"===i(p)&&null!==p&&-1===n.indexOf(p)&&(e.push({obj:s,prop:u}),n.push(p))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(r(n)){for(var i=[],o=0;o<n.length;++o)void 0!==n[o]&&i.push(n[o]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,n){var i=t.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,e,n){if(0===t.length)return t;var o=t;if("symbol"===i(t)?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var r="",s=0;s<o.length;++s){var c=o.charCodeAt(s)
;45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?r+=o.charAt(s):c<128?r+=a[c]:c<2048?r+=a[192|c>>6]+a[128|63&c]:c<55296||c>=57344?r+=a[224|c>>12]+a[128|c>>6&63]+a[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(s)),r+=a[240|c>>18]+a[128|c>>12&63]+a[128|c>>6&63]+a[128|63&c])}return r},isBuffer:function(t){return!(!t||"object"!==i(t))&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,n,a){if(!n)return e;if("object"!==i(n)){if(r(e))e.push(n);else{if(!e||"object"!==i(e))return[e,n];(a&&(a.plainObjects||a.allowPrototypes)||!o.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!==i(e))return[e].concat(n);var c=e;return r(e)&&!r(n)&&(c=s(e,a)),r(e)&&r(n)?(n.forEach((function(n,r){if(o.call(e,r)){var s=e[r];s&&"object"===i(s)&&n&&"object"===i(n)?e[r]=t(s,n,a):e.push(n)}else e[r]=n})),e):Object.keys(n).reduce((function(e,i){var r=n[i];return o.call(e,i)?e[i]=t(e[i],r,a):e[i]=r,e}),c)}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(2),o=n(1),r=n(42);t.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(4),o=n(3),r=i.document,a=o(r)&&o(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,n){var i=n(16);t.exports=i("native-function-to-string",Function.toString)},function(t,e,n){var i,o,r,a=n(78),s=n(4),c=n(3),l=n(15),u=n(7),p=n(21),d=n(17),f=s.WeakMap;if(a){var h=new f,m=h.get,y=h.has,v=h.set;i=function(t,e){return v.call(h,t,e),e},o=function(t){return m.call(h,t)||{}},r=function(t){return y.call(h,t)}}else{var b=p("state");d[b]=!0,i=function(t,e){return l(t,b,e),e},o=function(t){return u(t,b)?t[b]:{}},r=function(t){return u(t,b)}}t.exports={set:i,get:o,has:r,enforce:function(t){return r(t)?o(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(46),o=n(31),r=n(34),a=n(11);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(30),o=n(4),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e,n){var i=n(7),o=n(10),r=n(80).indexOf,a=n(17);t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~r(l,n)||l.push(n));return l}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(1);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(26);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(11),o=n(52),r=n(33),a=n(17),s=n(83),c=n(42),l=n(21)("IE_PROTO"),u=function(){},p=function(){var t,e=c("iframe"),n=r.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),p=t.F;n--;)delete p.prototype[r[n]];return p()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=i(t),n=new u,u.prototype=null,n[l]=t):n=p(),void 0===e?n:o(n,e)},a[l]=!0},function(t,e,n){var i=n(2),o=n(6),r=n(11),a=n(18);t.exports=i?Object.defineProperties:function(t,e){r(t);for(var n,i=a(e),s=i.length,c=0;s>c;)o.f(t,n=i[c++],e[n]);return t}},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(10),r=n(31).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){
return s&&"[object Window]"==a.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(o(t))}},function(t,e,n){e.f=n(12)},function(t,e,n){var i=n(36);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(2),o=n(18),r=n(10),a=n(19).f,s=function(t){return function(e){for(var n,s=r(e),c=o(s),l=c.length,u=0,p=[];l>u;)n=c[u++],i&&!a.call(s,n)||p.push(t?[n,s[n]]:s[n]);return p}};t.exports={entries:s(!0),values:s(!1)}},function(t,e){t.exports={}},function(t,e,n){var i=n(26),o=n(12)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var i=n(14),o=n(6),r=n(20);t.exports=function(t,e,n){var a=i(e);a in t?o.f(t,a,r(0,n)):t[a]=n}},function(t,e,n){var i=n(1);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(5);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(i.isURLSearchParams(e))r=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),r=a.join("&")}if(r){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var i=n(5),o=n(129),r={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,c={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?s=n(65):"undefined"!=typeof XMLHttpRequest&&(s=n(65)),s),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(r)})),t.exports=c},function(t,e,n){"use strict";var i=n(5),o=n(130),r=n(62),a=n(132),s=n(133),c=n(66);t.exports=function(t){return new Promise((function(e,l){var u=t.data,p=t.headers;i.isFormData(u)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",h=t.auth.password||"";p.Authorization="Basic "+btoa(f+":"+h)}if(d.open(t.method.toUpperCase(),r(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,
status:d.status,statusText:d.statusText,headers:n,config:t,request:d};o(e,l,i),d=null}},d.onabort=function(){d&&(l(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var m=n(134),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;y&&(p[t.xsrfHeaderName]=y)}if("setRequestHeader"in d&&i.forEach(p,(function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)})),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),l(t),d=null)})),void 0===u&&(u=null),d.send(u)}))}},function(t,e,n){"use strict";var i=n(131);t.exports=function(t,e,n,o,r){var a=new Error(t);return i(a,e,n,o,r)}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t,e){e=e||{};var n={};return i.forEach(["url","method","params","data"],(function(t){void 0!==e[t]&&(n[t]=e[t])})),i.forEach(["headers","auth","proxy"],(function(o){i.isObject(e[o])?n[o]=i.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:i.isObject(t[o])?n[o]=i.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),i.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=String.prototype.replace,o=/%20/g,r=n(39),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=r.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return i.call(t,o,"+")},RFC3986:function(t){return String(t)}}},a)},function(t,e,n){"use strict";var i=n(139),o=n(140),r=n(69);t.exports={formats:r,parse:o,stringify:i}},function(t,e,n){var i=n(72);"string"==typeof i&&(i=[[t.i,i,""]]);var o={attributes:{"data-injector":"bilibili-player"},insert:"head",singleton:!1};n(74)(i,o);i.locals&&(t.exports=i.locals)},function(t,e,n){
(t.exports=n(73)(!1)).push([t.i,'.player-icon{display:inline-block;line-height:1;font-weight:400;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.player-icon.icon-play:before{content:"A";color:#de698c}.player-icon.icon-repeat:before{content:"C"}.player-icon.icon-fullscreen:before{content:"E"}.player-icon.icon-pause:before{content:"F";color:#de698c}.player-icon.icon-mute:before{content:"G"}.player-icon.icon-unmute:before{content:"H"}.player-icon.icon-preview:before{content:""}.player-icon.icon-share:before{content:"K"}.player-icon.icon-comment,.player-icon.icon-widescreen{content:"";display:block}.player-icon.icon-comment{background:transparent url(//s1.hdslb.com/bfs/static/mult/images/Icon_Barrage-Off.png) no-repeat;background-size:100% auto}.player-icon.icon-widescreen{background:transparent url(//s1.hdslb.com/bfs/static/mult/images/Icon_Fullscreen.png) no-repeat;background-size:100% auto}.player-container{position:relative;display:inline-block;width:100%;height:100%}.player-container .dummy{margin-top:62.5%}.player-container.wide{z-index:100000!important}.player-container.wide .player-box{position:fixed;width:auto;height:auto}.player-container.wide .player-box .display .control-bar{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.player-container.wide .player-box .display .state-icon{margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}[data-dpr="2"] .player-container.wide .player-box .display .control-bar{padding-bottom:calc(constant(safe-area-inset-bottom) * 2);padding-bottom:calc(env(safe-area-inset-bottom) * 2)}[data-dpr="2"] .player-container.wide .player-box .display .state-icon{margin-bottom:calc(constant(safe-area-inset-bottom) * 2);margin-bottom:calc(env(safe-area-inset-bottom) * 2)}[data-dpr="3"] .player-container.wide .player-box .display .control-bar{padding-bottom:calc(constant(safe-area-inset-bottom) * 3);padding-bottom:calc(env(safe-area-inset-bottom) * 3)}[data-dpr="3"] .player-container.wide .player-box .display .state-icon{margin-bottom:calc(constant(safe-area-inset-bottom) * 3);margin-bottom:calc(env(safe-area-inset-bottom) * 3)}.player-container .display.fullScreen{z-index:4}.player-container .player-box{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}.player-container .player-box.portrait{-webkit-transform:rotate(90deg) translateY(-100%);transform:rotate(90deg) translateY(-100%);-webkit-transform-origin:top left;transform-origin:top left;height:100vw;width:100vh}.player-container .player-box.full{padding-bottom:0}.player-container .player-box.full .comment-layer{bottom:0}.player-container .player-box.full .display .control-bar{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.player-container .player-box.full .display .state-icon{margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}[data-dpr="2"] .player-container .player-box.full .display .control-bar{padding-bottom:calc(constant(safe-area-inset-bottom) * 2);padding-bottom:calc(env(safe-area-inset-bottom) * 2)}[data-dpr="2"] .player-container .player-box.full .display .state-icon{margin-bottom:calc(constant(safe-area-inset-bottom) * 2);margin-bottom:calc(env(safe-area-inset-bottom) * 2)}[data-dpr="3"] .player-container .player-box.full .display .control-bar{padding-bottom:calc(constant(safe-area-inset-bottom) * 3);padding-bottom:calc(env(safe-area-inset-bottom) * 3)}[data-dpr="3"] .player-container .player-box.full .display .state-icon{margin-bottom:calc(constant(safe-area-inset-bottom) * 3);margin-bottom:calc(env(safe-area-inset-bottom) * 3)}.player-container .player-box .audioCover{overflow:hidden;position:absolute;left:0;top:0;z-index:-1;height:100%;width:100%;pointer-events:none}.player-container .player-box .audioCover.fullScreen{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.player-container .player-box .audioCover .background{display:block;width:100%;-webkit-filter:blur(2.56rem);filter:blur(2.56rem)}.player-container .player-box .audioCover .backgroundCover{position:absolute;left:0;top:0;height:100%;display:block;width:100%;background-color:rgba(0,0,0,.5);z-index:0}.player-container .player-box .audioCover .cover{position:absolute;top:50%;left:50%;width:3.88266667rem;height:3.88266667rem;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:50%;border:.21333333rem solid rgba(251,114,153,.25)}.player-container .player-box .audioCover .cover.fullScreen{width:6.4rem;height:6.4rem;border:.59733333rem solid rgba(251,114,153,.25)}.player-container .player-box .audioCover .cover .coverImg{width:3.37493333rem;height:3.37493333rem;border:.256rem solid rgba(251,114,153,.4);border-radius:50%}.player-container .player-box .audioCover .cover .coverImg.fullScreen{width:5.54666667rem;height:5.54666667rem;border:.42666667rem solid rgba(251,114,153,.4)}.player-container .player-box video{background-color:#000;display:none}.player-container .player-box video.show{display:inline}.player-container .player-box .display{position:absolute;top:0;bottom:0;left:0;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform:translateZ(0);transform:translateZ(0)}.player-container .player-box .display .control-bar{position:absolute;z-index:2;bottom:0;left:0;right:0;height:1.87733333rem;border:0 solid #e2e2e2;background-color:rgba(0,0,0,.5);font-size:0;text-align:left;opacity:1}.player-container .player-box .display .control-bar.hide{visibility:hidden;opacity:0}.player-container .player-box .display .control-bar>*{font-size:1rem;display:inline-block}.player-container .player-box .display .control-bar.ipad .control-slider{right:2.304rem}.player-container .player-box .display .control-bar .control-btn{height:1.024rem;margin-top:.42667rem;background-color:transparent;color:#585858;width:1.024rem;margin-left:1.024rem}.player-container .player-box .display .control-bar .control-btn.btn-comment.active>.player-icon.icon-comment{background:transparent url(//s1.hdslb.com/bfs/static/mult/images/Icon_Barrage-On.png) no-repeat;background-size:100% auto}.player-container .player-box .display .control-bar .control-btn i{list-style:none;cursor:default;height:100%}.player-container .player-box .display .control-bar .control-btn i:before{line-height:88px;display:inline-block;height:100%;font-size:24pt}.player-container .player-box .display .control-bar .control-btn.btn-pause,.player-container .player-box .display .control-bar .control-btn.btn-play{width:40pt;display:none}.player-container .player-box .display .control-bar .control-btn.hide{display:none}.player-container .player-box .display .control-bar .control-btn.active{color:#ccc}.player-container .player-box .display .control-bar .control-split{height:100%;width:1pt;margin:0;padding:0;background-color:#e2e2e2}.player-container .player-box .display .control-bar .control-time-split:before{content:"/";margin:0 .02133333rem}.player-container .player-box .display .control-bar .time-container{position:absolute;left:0;height:1.87733333rem;top:0}.player-container .player-box .display .control-bar .time-container .control-text,.player-container .player-box .display .control-bar .time-container .control-time-split{font-size:.66662rem;font-family:arial,sans-serif;color:#fff;height:100%;line-height:1.86655rem;vertical-align:top;float:left}.player-container .player-box .display .control-bar .time-container .control-time-split{width:.256rem}.player-container .player-box .display .control-bar .time-container .control-text{width:2.1332rem}.player-container .player-box .display .control-bar .time-container .control-text.time-current-text{text-align:right}.player-container .player-box .display .control-bar .time-container .control-text.time-total-text{text-align:left}.player-container .player-box .display .control-bar .time-container .time-current-text:before,.player-container .player-box .display .control-bar .time-container .time-total-text:after{width:2pt;content:"";display:inline-block}.player-container .player-box .display .control-bar>.right{width:4.608rem;float:right;font-size:0;cursor:default}.player-container .player-box .display .control-bar>.right>*{font-size:1rem;display:inline-block}.player-container .player-box .display .control-bar .control-volume-slider{display:inline-block;width:40pt;height:88px;position:relative}.player-container .player-box .display .control-bar .control-volume-slider.hide{display:none}.player-container .player-box .display .control-bar .control-volume-slider.mute .ui-slider-thumb{background-color:#949494}.player-container .player-box .display .control-bar .control-volume-slider .ui-slider-container{top:40.66666667px;right:5pt;left:0;height:5pt}.player-container .player-box .display .control-bar .control-volume-slider .ui-slider-thumb{background-color:#00a1d6;border-radius:3pt}.player-container .player-box .display .control-bar .control-volume-slider .ui-slider-thumb:after{width:0;height:5pt;right:0;border-radius:3pt}.player-container .player-box .display .control-bar .control-volume-slider .ui-slider-tracker{right:0;background-color:#949494;border-radius:3pt}.player-container .player-box .display .control-bar .control-volume-slider .ui-slider-label{display:none}.player-container .player-box .display .control-bar .control-volume-slider .ui-slider-event-layer{right:0}.player-container .player-box .display .control-bar .control-slider{position:absolute;top:0;height:1.87733333rem;left:4.66637rem;right:4.79969rem;width:auto}.player-container .player-box .display .control-bar .control-slider .ui-slider-container{position:absolute;height:100%;left:0;right:7pt;width:auto;top:50%;-webkit-box-shadow:none;box-shadow:none;border-radius:0;background-color:transparent}.player-container .player-box .display .control-bar .control-slider .ui-slider-label{display:none}.player-container .player-box .display .control-bar .control-slider .ui-slider-thumb{top:0;bottom:0;left:0;height:.128rem;-webkit-transform:translateZ(0);transform:translateZ(0);border-radius:0;-webkit-box-shadow:none;box-shadow:none;background-color:#de698c}.player-container .player-box .display .control-bar .control-slider .ui-slider-thumb:after{content:"";position:absolute;display:block;right:-.59996rem;top:-.26665rem;width:.59996rem;height:.59996rem;border-radius:.59996rem;-webkit-box-shadow:none;box-shadow:none;background-color:#fff;-webkit-box-shadow:.02133rem .02133rem .128rem #000!important;box-shadow:.02133rem .02133rem .128rem #000!important}.player-container .player-box .display .control-bar .control-slider .ui-slider-event-layer{top:-50%;left:0;right:-7pt;width:auto;height:100%}.player-container .player-box .display .control-bar .control-slider .ui-slider-tracker{top:0;bottom:0;left:0;right:0;width:auto;height:.128rem;border-style:none;-webkit-box-shadow:none;box-shadow:none;background:#4c4c4c}.player-container .player-box .display .input-bar{position:absolute;display:none;z-index:2;top:0;left:0;right:0;height:40pt;background:hsla(0,0%,100%,.6)}.player-container .player-box .display .input-bar.hide{display:none}.player-container .player-box .display .input-bar .text-input{position:absolute;top:0;bottom:0;left:0;width:78%;margin:5pt;border-style:none;border-width:0;font-size:14pt;line-height:14pt}.player-container .player-box .display .input-bar .text-input:focus{outline-offset:0}.player-container .player-box .display .input-bar .send-btn{position:absolute;top:0;bottom:0;right:0;width:20%;margin:5pt;border:0 none #fff;background-color:#0ad;color:#fff;font-size:14pt;line-height:14pt;font-weight:700}.player-container .player-box .display .comment-layer{position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;pointer-events:none;overflow:hidden;font-size:.72533333rem}.player-container .player-box .display .load-layer{display:block;position:absolute;z-index:3;top:0;bottom:0;left:0;right:0;background-color:rgba(60,60,60,.5);overflow:hidden;cursor:pointer;text-align:center}.player-container .player-box .display .load-layer.hide{display:none}.player-container .player-box .display .load-layer>img{border-style:none;display:inline-block;position:relative;width:100%;height:100%;opacity:.85}.player-container .player-box .display .load-layer .icon-preview{position:absolute;display:block;bottom:.6912rem;right:.55467rem;width:1.96267rem;height:1.96267rem;background:url(//s1.hdslb.com/bfs/static/mult/images/TV-Play.png) no-repeat;background-size:100% auto}.player-container .player-box .display .state-icon{position:absolute;display:block;opacity:.85;bottom:2.39787rem;right:.49067rem;width:1.96267rem;height:1.96267rem;margin-left:-1.93321rem;margin-top:-1.93321rem;z-index:2}.player-container .player-box .display .state-icon.hide{display:none}.player-container .player-box .display .state-icon i{font-style:normal;font-weight:400;line-height:100;text-align:center;color:#fff;font-size:80pt;list-style:none;display:none;position:absolute;top:0;bottom:0;left:0;right:0}.player-container .player-box .display .state-icon i.buff-icon{background:url(//static.hdslb.com/images/loading.gif) no-repeat 50%}.player-container .player-box .display .state-icon i.pause-icon{background:url(//s1.hdslb.com/bfs/static/mult/images/TV-Play.png) no-repeat;background-size:100% auto}.player-container .player-box .display .state-icon i.play-icon{background:url(//s1.hdslb.com/bfs/static/mult/images/TV-Pause.png) no-repeat;background-size:100% auto}.player-container .player-box .display .state-icon i.active{display:block}.player-container .player-box .display .danmaku-container{position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;pointer-events:none;overflow:hidden;-webkit-text-size-adjust:none}.player-container .player-box .display .danmaku-container .bilibili-danmaku{line-height:normal!important}.player-container .controls-simple{position:absolute;left:0;bottom:0;width:100%;height:30px;background-color:#fff;display:table}.player-container .controls-simple .mukio-control{display:table-cell;vertical-align:middle}.player-container .controls-simple .mukio-control .control{display:inline-block;font-size:14px;line-height:18px;color:#fff;background-color:#5abcf7;border-style:solid;border-width:1px;border-color:#fff;border-radius:5px}.player-container .controls-simple .mukio-control .control:active{border-color:#ccc}.player-container .controls-simple .mukio-control .style-panel{top:30px;display:none;position:absolute}',""])
},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot).concat(t," */")}));return[n].concat(r).concat([o]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var a=0;a<t.length;a++){var s=t[a];null!=s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){"use strict";var i,o={},r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id],a=0;if(r){for(r.refs++;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],e))}else{for(var s=[];a<i.parts.length;a++)s.push(y(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var i=n.nc;i&&(t.attributes.nonce=i)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var u,p=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=p(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function f(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o&&t.setAttribute("media",o),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var h=null,m=0;function y(t,e){var n,i,o;if(e.singleton){var r=m++;n=h||(h=l(e)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=l(e),i=f.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=s(t,e);return c(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r],l=o[a.id];l&&(l.refs--,i.push(l))}t&&c(s(t,e),e);for(var u=0;u<i.length;u++){var p=i[u];if(0===p.refs){for(var d=0;d<p.parts.length;d++)p.parts[d]();delete o[p.id]}}}}},function(t,e){!function(t,e){"use strict";var n={};!function(){var i=e.querySelector('meta[name="viewport"]'),o=e.querySelector('meta[name="hotcss"]'),r=t.devicePixelRatio||1,a=540,s=0;if(r=r>=3?3:r>=2?2:1,o){var c=o.getAttribute("content");if(c){var l=c.match(/initial\-dpr=([\d\.]+)/);l&&(r=parseFloat(l[1]));var u=c.match(/max\-width=([\d\.]+)/);u&&(a=parseFloat(u[1]));var p=c.match(/design\-width=([\d\.]+)/);p&&(s=parseFloat(p[1]))}}e.documentElement.setAttribute("data-dpr",r),n.dpr=r,
e.documentElement.setAttribute("max-width",a),n.maxWidth=a,s&&(e.documentElement.setAttribute("design-width",s),n.designWidth=s);var d=1/r,f="width=device-width, initial-scale="+d+", minimum-scale="+d+", maximum-scale="+d+", user-scalable=no";i?i.setAttribute("content",f):((i=e.createElement("meta")).setAttribute("name","viewport"),i.setAttribute("content",f),e.head.appendChild(i))}(),n.px2rem=function(t,e){return e||(e=parseInt(n.designWidth,10)),320*parseInt(t,10)/e/20},n.rem2px=function(t,e){return e||(e=parseInt(n.designWidth,10)),20*t*e/320},n.mresize=function(){var i=e.documentElement.getBoundingClientRect().width||t.innerWidth;if(n.maxWidth&&i/n.dpr>n.maxWidth&&(i=n.maxWidth*n.dpr),!i)return!1;e.documentElement.style.fontSize=20*i/320+"px",n.callback&&n.callback()},n.mresize(),t.addEventListener("resize",(function(){clearTimeout(n.tid),n.tid=setTimeout(n.mresize,33)}),!1),t.addEventListener("load",n.mresize,!1),setTimeout((function(){n.mresize()}),333),t.hotcss=n}(window,document)},function(t,e,n){n(77),n(87),n(89),n(90),n(91),n(92),n(93),n(94),n(99),n(100),n(101),n(102),n(103),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(114),n(115),n(117),n(118),n(119),n(120),n(121),n(122);var i=n(30);t.exports=i.Object},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(0),r=n(4),a=n(29),s=n(2),c=n(49),l=n(1),u=n(7),p=n(50),d=n(3),f=n(11),h=n(8),m=n(10),y=n(14),v=n(20),b=n(51),g=n(18),_=n(31),x=n(53),w=n(34),S=n(13),E=n(6),k=n(19),O=n(15),D=n(27),A=n(16),L=n(21),T=n(17),C=n(22),j=n(12),P=n(54),F=n(84),N=n(35),R=n(44),I=n(85).forEach,q=L("hidden"),B=j("toPrimitive"),z=R.set,V=R.getterFor("Symbol"),U=Object.prototype,M=r.Symbol,W=r.JSON,H=W&&W.stringify,Y=S.f,G=E.f,X=x.f,K=k.f,Q=A("symbols"),J=A("op-symbols"),Z=A("string-to-symbol-registry"),$=A("symbol-to-string-registry"),tt=A("wks"),et=r.QObject,nt=!et||!et.prototype||!et.prototype.findChild,it=s&&l((function(){return 7!=b(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=Y(U,e);i&&delete U[e],G(t,e,n),i&&t!==U&&G(U,e,i)}:G,ot=function(t,e){var n=Q[t]=b(M.prototype);return z(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},rt=c&&"symbol"==i(M.iterator)?function(t){return"symbol"==i(t)}:function(t){return Object(t)instanceof M},at=function(t,e,n){t===U&&at(J,e,n),f(t);var i=y(e,!0);return f(n),u(Q,i)?(n.enumerable?(u(t,q)&&t[q][i]&&(t[q][i]=!1),n=b(n,{enumerable:v(0,!1)})):(u(t,q)||G(t,q,v(1,{})),t[q][i]=!0),it(t,i,n)):G(t,i,n)},st=function(t,e){f(t);var n=m(e),i=g(n).concat(pt(n));return I(i,(function(e){s&&!ct.call(n,e)||at(t,e,n[e])})),t},ct=function(t){var e=y(t,!0),n=K.call(this,e);return!(this===U&&u(Q,e)&&!u(J,e))&&(!(n||!u(this,e)||!u(Q,e)||u(this,q)&&this[q][e])||n)},lt=function(t,e){var n=m(t),i=y(e,!0);if(n!==U||!u(Q,i)||u(J,i)){var o=Y(n,i);return!o||!u(Q,i)||u(n,q)&&n[q][i]||(o.enumerable=!0),o}},ut=function(t){var e=X(m(t)),n=[];return I(e,(function(t){u(Q,t)||u(T,t)||n.push(t)})),n},pt=function(t){var e=t===U,n=X(e?J:m(t)),i=[];return I(n,(function(t){!u(Q,t)||e&&!u(U,t)||i.push(Q[t])})),i};c||(D((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=C(t),n=function t(n){this===U&&t.call(J,n),u(this,q)&&u(this[q],e)&&(this[q][e]=!1),it(this,e,v(1,n))};return s&&nt&&it(U,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return V(this).tag})),k.f=ct,E.f=at,S.f=lt,_.f=x.f=ut,w.f=pt,s&&(G(M.prototype,"description",{configurable:!0,get:function(){return V(this).description}}),a||D(U,"propertyIsEnumerable",ct,{unsafe:!0})),P.f=function(t){return ot(j(t),t)}),o({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:M}),I(g(tt),(function(t){F(t)})),o({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(u(Z,e))return Z[e];var n=M(e);return Z[e]=n,$[n]=e,n},
keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(u($,t))return $[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(t,e){return void 0===e?b(t):st(b(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:lt}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ut,getOwnPropertySymbols:pt}),o({target:"Object",stat:!0,forced:l((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(h(t))}}),W&&o({target:"JSON",stat:!0,forced:!c||l((function(){var t=M();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}))},{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(d(e)||void 0!==t)&&!rt(t))return p(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!rt(e))return e}),i[1]=e,H.apply(W,i)}}),M.prototype[B]||O(M.prototype,B,M.prototype.valueOf),N(M,"Symbol"),T[q]=!0},function(t,e,n){var i=n(4),o=n(43),r=i.WeakMap;t.exports="function"==typeof r&&/native code/.test(o.call(r))},function(t,e,n){var i=n(7),o=n(45),r=n(13),a=n(6);t.exports=function(t,e){for(var n=o(e),s=a.f,c=r.f,l=0;l<n.length;l++){var u=n[l];i(t,u)||s(t,u,c(e,u))}}},function(t,e,n){var i=n(10),o=n(32),r=n(81),a=function(t){return function(e,n,a){var s,c=i(e),l=o(c.length),u=r(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var i=n(48),o=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):r(n,e)}},function(t,e,n){var i=n(1),o=/#|\.prototype\./,r=function(t,e){var n=s[a(t)];return n==l||n!=c&&("function"==typeof e?i(e):!!e)},a=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=r.data={},c=r.NATIVE="N",l=r.POLYFILL="P";t.exports=r},function(t,e,n){var i=n(46);t.exports=i("document","documentElement")},function(t,e,n){var i=n(30),o=n(7),r=n(54),a=n(6).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});o(e,t)||a(e,t,{value:r.f(t)})}},function(t,e,n){var i=n(55),o=n(25),r=n(8),a=n(32),s=n(86),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,p=6==t,d=5==t||p;return function(f,h,m,y){for(var v,b,g=r(f),_=o(g),x=i(h,m,3),w=a(_.length),S=0,E=y||s,k=e?E(f,w):n?E(f,0):void 0;w>S;S++)if((d||S in _)&&(b=x(v=_[S],S,g),t))if(e)k[S]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:c.call(k,v)}else if(u)return!1;return p?-1:l||u?u:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,n){var i=n(3),o=n(50),r=n(12)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(0),o=n(88);i({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var i=n(2),o=n(1),r=n(18),a=n(34),s=n(19),c=n(8),l=n(25),u=Object.assign;t.exports=!u||o((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=r(u({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,u=1,p=a.f,d=s.f;o>u;)for(var f,h=l(arguments[u++]),m=p?r(h).concat(p(h)):r(h),y=m.length,v=0;y>v;)f=m[v++],i&&!d.call(h,f)||(n[f]=h[f]);return n}:u},function(t,e,n){n(0)({target:"Object",stat:!0,sham:!n(2)},{create:n(51)})},function(t,e,n){var i=n(0),o=n(2);i({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(6).f})},function(t,e,n){var i=n(0),o=n(2);i({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:n(52)})},function(t,e,n){var i=n(0),o=n(56).entries;i({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var i=n(0),o=n(23),r=n(1),a=n(3),s=n(37).onFreeze,c=Object.freeze;i({target:"Object",stat:!0,forced:r((function(){c(1)})),sham:!o},{freeze:function(t){return c&&a(t)?c(s(t)):t}})},function(t,e,n){var i=n(0),o=n(95),r=n(59);i({
target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,n){r(e,t,n)}),void 0,!0),e}})},function(t,e,n){var i=n(11),o=n(96),r=n(32),a=n(55),s=n(97),c=n(98),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,u,p){var d,f,h,m,y,v,b=a(e,n,u?2:1);if(p)d=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(o(f)){for(h=0,m=r(t.length);m>h;h++)if((y=u?b(i(v=t[h])[0],v[1]):b(t[h]))&&y instanceof l)return y;return new l(!1)}d=f.call(t)}for(;!(v=d.next()).done;)if((y=c(d,b,v.value,u))&&y instanceof l)return y;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,n){var i=n(12),o=n(57),r=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[r]===t)}},function(t,e,n){var i=n(58),o=n(57),r=n(12)("iterator");t.exports=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(11);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(0),o=n(1),r=n(10),a=n(13).f,s=n(2),c=o((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(r(t),e)}})},function(t,e,n){var i=n(0),o=n(2),r=n(45),a=n(10),s=n(13),c=n(59);i({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),o=s.f,l=r(i),u={},p=0;l.length>p;)void 0!==(n=o(i,e=l[p++]))&&c(u,e,n);return u}})},function(t,e,n){var i=n(0),o=n(1),r=n(53).f;i({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:r})},function(t,e,n){var i=n(0),o=n(1),r=n(8),a=n(38),s=n(60);i({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(r(t))}})},function(t,e,n){n(0)({target:"Object",stat:!0},{is:n(104)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(0),o=n(1),r=n(3),a=Object.isExtensible;i({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isExtensible:function(t){return!!r(t)&&(!a||a(t))}})},function(t,e,n){var i=n(0),o=n(1),r=n(3),a=Object.isFrozen;i({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isFrozen:function(t){return!r(t)||!!a&&a(t)}})},function(t,e,n){var i=n(0),o=n(1),r=n(3),a=Object.isSealed;i({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isSealed:function(t){return!r(t)||!!a&&a(t)}})},function(t,e,n){var i=n(0),o=n(8),r=n(18);i({target:"Object",stat:!0,forced:n(1)((function(){r(1)}))},{keys:function(t){return r(o(t))}})},function(t,e,n){var i=n(0),o=n(3),r=n(37).onFreeze,a=n(23),s=n(1),c=Object.preventExtensions;i({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!a},{preventExtensions:function(t){return c&&o(t)?c(r(t)):t}})},function(t,e,n){var i=n(0),o=n(3),r=n(37).onFreeze,a=n(23),s=n(1),c=Object.seal;i({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!a},{seal:function(t){return c&&o(t)?c(r(t)):t}})},function(t,e,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(112)})},function(t,e,n){var i=n(11),o=n(113);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t.call(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var i=n(3);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var i=n(0),o=n(56).values;i({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){var i=n(27),o=n(116),r=Object.prototype;o!==r.toString&&i(r,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";var i=n(58),o={};o[n(12)("toStringTag")]="z",t.exports="[object z]"!==String(o)?function(){return"[object "+i(this)+"]"}:o.toString},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(24),a=n(8),s=n(36),c=n(6);o&&i({target:"Object",proto:!0,forced:r},{__defineGetter__:function(t,e){c.f(a(this),t,{get:s(e),
enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(24),a=n(8),s=n(36),c=n(6);o&&i({target:"Object",proto:!0,forced:r},{__defineSetter__:function(t,e){c.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(24),a=n(8),s=n(14),c=n(38),l=n(13).f;o&&i({target:"Object",proto:!0,forced:r},{__lookupGetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.get}while(n=c(n))}})},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(24),a=n(8),s=n(14),c=n(38),l=n(13).f;o&&i({target:"Object",proto:!0,forced:r},{__lookupSetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.set}while(n=c(n))}})},function(t,e,n){n(35)(Math,"Math",!0)},function(t,e,n){var i=n(4);n(35)(i.JSON,"JSON",!0)},function(t,e,n){"use strict";var i=n(5),o=n(61),r=n(125),a=n(67);function s(t){var e=new r(t),n=o(r.prototype.request,e);return i.extend(n,r.prototype,e),i.extend(n,e),n}var c=s(n(64));c.Axios=r,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=n(68),c.CancelToken=n(137),c.isCancel=n(63),c.all=function(t){return Promise.all(t)},c.spread=n(138),t.exports=c,t.exports.default=c},function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var i=n(5),o=n(62),r=n(126),a=n(127),s=n(67);function c(t){this.defaults=t,this.interceptors={request:new r,response:new r}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,o){return this.request(i.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=c},function(t,e,n){"use strict";var i=n(5);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var i=n(5),o=n(128),r=n(63),a=n(64),s=n(135),c=n(136);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return l(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return r(e)||(l(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(66);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,o){return t.config=e,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,
number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(5),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,a={};return t?(i.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var i=n(5);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=i.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(5);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,o,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(o)&&s.push("path="+o),i.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(68);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(39),r=n(69),a=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,l=Array.prototype.push,u=function(t,e){l.apply(t,c(e)?e:[e])},p=Date.prototype.toISOString,d=r.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:r.formatters[d],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(e,n,r,a,s,l,p,d,h,m,y,v,b){var g,_=e;if("function"==typeof p?_=p(n,_):_ instanceof Date?_=m(_):"comma"===r&&c(_)&&(_=_.join(",")),null===_){if(a)return l&&!v?l(n,f.encoder,b):n;_=""}if("string"==typeof(g=_)||"number"==typeof g||"boolean"==typeof g||"symbol"===i(g)||"bigint"==typeof g||o.isBuffer(_))return l?[y(v?n:l(n,f.encoder,b))+"="+y(l(_,f.encoder,b))]:[y(n)+"="+y(String(_))];var x,w=[];if(void 0===_)return w;if(c(p))x=p;else{var S=Object.keys(_);x=d?S.sort(d):S}for(var E=0;E<x.length;++E){var k=x[E]
;s&&null===_[k]||(c(_)?u(w,t(_[k],"function"==typeof r?r(n,k):n,r,a,s,l,p,d,h,m,y,v,b)):u(w,t(_[k],n+(h?"."+k:"["+k+"]"),r,a,s,l,p,d,h,m,y,v,b)))}return w};t.exports=function(t,e){var n,o=t,l=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=r.default;if(void 0!==t.format){if(!a.call(r.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=r.formatters[n],o=f.filter;return("function"==typeof t.filter||c(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:o,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof l.filter?o=(0,l.filter)("",o):c(l.filter)&&(n=l.filter);var p,d=[];if("object"!==i(o)||null===o)return"";p=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var m=s[p];n||(n=Object.keys(o)),l.sort&&n.sort(l.sort);for(var y=0;y<n.length;++y){var v=n[y];l.skipNulls&&null===o[v]||u(d,h(o[v],v,m,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.formatter,l.encodeValuesOnly,l.charset))}var b=d.join(l.delimiter),g=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),b.length>0?g+b:""}},function(t,e,n){"use strict";var i=n(39),o=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e,n){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,r=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,c=[];if(s){if(!n.plainObjects&&o.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var l=0;n.depth>0&&null!==(a=r.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(t,e,n){for(var i=e,o=t.length-1;o>=0;--o){var r,a=t[o];if("[]"===a&&n.parseArrays)r=[].concat(i);else{r=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(r=[])[c]=i:r[s]=i:r={0:i}}i=r}return i}(c,e,n)}};t.exports=function(t,e){var n=function(t){if(!t)return r;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?r.charset:t.charset;return{allowDots:void 0===t.allowDots?r.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:r.allowPrototypes,
arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:r.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:r.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:r.comma,decoder:"function"==typeof t.decoder?t.decoder:r.decoder,delimiter:"string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:r.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:r.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:r.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:r.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:r.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var n,s={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,l=e.parameterLimit===1/0?void 0:e.parameterLimit,u=c.split(e.delimiter,l),p=-1,d=e.charset;if(e.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?d="utf-8":"utf8=%26%2310003%3B"===u[n]&&(d="iso-8859-1"),p=n,n=u.length);for(n=0;n<u.length;++n)if(n!==p){var f,h,m=u[n],y=m.indexOf("]="),v=-1===y?m.indexOf("="):y+1;-1===v?(f=e.decoder(m,r.decoder,d),h=e.strictNullHandling?null:""):(f=e.decoder(m.slice(0,v),r.decoder,d),h=e.decoder(m.slice(v+1),r.decoder,d)),h&&e.interpretNumericEntities&&"iso-8859-1"===d&&(h=a(h)),h&&e.comma&&h.indexOf(",")>-1&&(h=h.split(",")),o.call(s,f)?s[f]=i.combine(s[f],h):s[f]=h}return s}(t,n):t,l=n.plainObjects?Object.create(null):{},u=Object.keys(c),p=0;p<u.length;++p){var d=u[p],f=s(d,c[d],n);l=i.merge(l,f,n)}return i.compact(l)}},function(t,e,n){"use strict";n.r(e);n(71),n(75),n(76);var i=n(9),o=n.n(i),r=n(70),a=n.n(r);function s(t){var e;return void 0===t&&(t=0),e=("0"+(t=Math.floor(t)>>0)%60).slice(-2),(e=Math.floor(t/60)+":"+e).length<5&&(e="0"+e),e}function c(t,e){return" ".concat(t.className," ").indexOf(" ".concat(e," "))>-1}function l(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{var i="on"+e;if(t.attachEvent)t.attachEvent(i,n);else{var o=t[i];t[i]=function(t){t=t||window.event,n.call(null,t),o&&o.call(null,t)}}}}function u(t){for(var e=0,n=0;t;)e+=t.offsetTop,n+=t.offsetLeft,t=t.offsetParent;return{left:n,top:e}}var p,d=function(){var t=window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)};function f(t){if(!t)throw"Slider:ç¼ºå°åå§ååæ°";this.opts=t,this.min=t.min||0,this.max=t.max||100,this.value=-1,this.label=t.label||"",this.upLayer=this.opts.upLayer,this.parent=this.opts.parent,this.uiValue=0,this.liveDragging=void 0!==this.opts.liveDragging&&this.opts.liveDragging,this.container=document.createElement("div"),this.container.className="ui-slider-container",this.labelLayer=document.createElement("div"),this.labelLayer.className="ui-slider-label",this.thumb=document.createElement("div"),this.thumb.className="ui-slider-thumb",this.tracker=document.createElement("div"),this.tracker.className="ui-slider-tracker",this.eventLayer=document.createElement("div"),this.eventLayer.className="ui-slider-event-layer",this.upLayer=this.upLayer||this.eventLayer,this.container.appendChild(this.tracker),this.container.appendChild(this.labelLayer),this.container.appendChild(this.thumb),this.container.appendChild(this.eventLayer);var e=this;d()?(l(this.eventLayer,"touchstart",(function(t){e.onmousedown(),e.ontouchmove(t.touches[0].pageX,t.touches[0].pageY)})),l(this.upLayer,"touchend",(function(t){e._down&&e.onmouseup()}))):(l(this.eventLayer,"mousedown",(function(t){window.navigator.userAgent.indexOf("Firefox")>-1&&function(t){if(!t.hasOwnProperty("offsetX")){var e=0,n=0;if(t.offsetParent){var i=t;do{e+=i.offsetLeft,n+=i.offsetTop}while(i=i.offsetParent)}t.offsetX=t.layerX-e,t.offsetY=t.layerY-n}}(t),e.onmousedown(),e.onmousemove(t.pageX,t.pageY)})),
l(this.upLayer,"mouseup",(function(t){e._down&&e.onmouseup()}))),this.upLayer.onmouseleave=function(t){e._down&&(console.log("out",t),e.onmouseup())},this.upLayer.onmousemove=function(t){e._down&&e.onmousemove(t.pageX,t.pageY)},l(this.eventLayer,"touchmove",(function(t){e.ontouchmove(t.touches[0].pageX,t.touches[0].pageY)})),this.opts.parent.appendChild(this.container),this.setLabel(this.label),this.setValue(this.opts.value)}f.prototype={constructor:f,onclick:function(){},onmousedown:function(){this.portrait=this.opts.player.elem.querySelector(".player-box").classList.contains("portrait"),this._down=!0},onmouseup:function(){this._down&&(this._down=!1,this.opts.onChange&&(this.opts.onChange(this.uiValue),this.setValue(this.uiValue)))},onmousemove:function(t,e){if(this._down){var n;this.portrait?(e-=this.container.getBoundingClientRect().top,n=this.positionToValue(e)):(t-=u(this.container).left,n=this.positionToValue(t));var i=this.uiValue;this.uiValue=n,this.setValue(n,!1),this._updatePosition(!0),this.liveDragging&&this.opts.onChange&&this.uiValue!=i&&this.opts.onChange(this.uiValue)}},ontouchmove:function(t,e){var n;this._down&&(this.portrait?(e-=this.container.getBoundingClientRect().top,n=this.positionToValue(e)):(t-=u(this.container).left,n=this.positionToValue(t)),this.uiValue=n,this.setValue(n,!1),this._updatePosition(!0))},valueToPosition:function(t){return(t-this.min)/(this.max-this.min)},positionToValue:function(t){if(this.portrait){var e=this.eventLayer.offsetWidth;return t=Math.max(0,t),t=Math.min(e,t),this.min+(this.max-this.min)*t/e}var n=this.eventLayer.offsetWidth;return t=Math.max(0,t),t=Math.min(n,t),this.min+(this.max-this.min)*t/n},getValue:function(){return this.min+this.getPercents()*(this.max-this.min)},getPercents:function(){return(this.value-this.min)/(this.max-this.min)},setValue:function(t,e){e=!1!==e,t=Math.min(this.max,Math.max(this.min,t)),this.value!=t&&(this.value=t,this._dispatchChange(t))},setMax:function(t){this.max=t,this._updatePosition()},_dispatchChange:function(t){this._updatePosition(),this.opts.labelFunc?this.setLabel(this.label+": "+this.opts.labelFunc(this.value)):this.setLabel(this.label+": "+this.value)},_updatePosition:function(t){this._down&&!t||(this.thumb.style.width=100*this.getPercents()+"%")},setLabel:function(t){this.labelLayer.innerHTML=t}},(p=document.createElement("style")).type="text/css",p.innerHTML='.ui-slider-container {position: absolute;width: 100%;height: 30px;text-align: center;}.ui-slider-thumb {position: absolute;top: 0px;bottom: 0px;left: 0px;}.ui-slider-thumb:after {content: "";position: absolute;display: block;top: 0px;right: -30px;width: 30px;height: 30px;border-radius: 28px;box-shadow: 0 0 2pt rgba(0, 0, 0, 0.5);background-color: #fff;}.ui-slider-tracker {position: absolute;top: 0px;bottom: 0px;left: 0px;right: -30px;background: #888;}.ui-slider-event-layer {position: absolute;top: 0px;left: 0px;bottom: 0px;right: -30px;}.ui-slider-label {position: absolute;display: block;top: 0px;bottom: 0px;left: 0px;right: 0px;line-height: 30px;font-size: 10px;color: #fff;}',document.head.appendChild(p);var h,m=function(){function t(){}var e;return t.assign=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<=1)return t[0];var n=null!=t[0]?Object(t[0]):{};return t.forEach((function(t,e){if(0!==e&&null!=t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})),n},t.getHexColor=function(t){return"#"+("000000"+t.toString(16)).slice(-6)},t.browser={version:(e=navigator.userAgent,{trident:/Trident/i.test(e),presto:/Presto/i.test(e),webKit:/AppleWebKit/i.test(e),gecko:/Gecko/i.test(e)&&!/KHTML/i.test(e),mobile:/AppleWebKit.*Mobile.*/i.test(e),ios:/Mac OS X[\s\_\-\/](\d+[\.\-\_]\d+[\.\-\_]?\d*)/i.test(e),android:/Android/i.test(e),linux:/Linux/i.test(e),windowsphone:/Windows Phone/i.test(e),iPhone:/iPhone/i.test(e),iPad:/iPad/i.test(e),MicroMessenger:/MicroMessenger/i.test(e),webApp:!/Safari/i.test(e),edge:/edge/i.test(e),
safari:/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.test(e.toLowerCase())||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.test(e.toLowerCase())})},t}(),y=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t){function e(){var n=t.call(this)||this;return Object.setPrototypeOf(n,e.prototype),n}return y(e,t),e.prototype.bsearch=function(t,e){if(0===this.length)return 0;if(e(t,this[0])<0)return 0;if(e(t,this[this.length-1])>=0)return this.length;for(var n,i=0,o=this.length-1,r=0;i<=o;){if(r++,e(t,this[(n=Math.floor((i+o+1)/2))-1])>=0&&e(t,this[n])<0)return n;if(e(t,this[n-1])<0?o=n-1:e(t,this[n])>=0?i=n:window.console.error("Catch an ERROR"),r>1e3){window.console.error("1000");break}}return-1},e.prototype.binsert=function(t,e){var n=this.bsearch(t,e);return this.splice(n,0,t),n},e.prototype.bremove=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return void this.splice(e,1)},e}(Array),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(n){var i=t.call(this)||this;return Object.setPrototypeOf(i,e.prototype),i.fnCompare=n||e.fnCompareDefault,i}return b(e,t),e.fnCompareDefault=function(t,e){return t.stime-e.stime},e.prototype.insert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;)this.binsert(t[n],this.fnCompare),n++;return this},e.prototype.remove=function(t){for(var e=this.bsearch(t,this.fnCompare);e>=0;){if(this[e]===t)return this.splice(e,1),!0;e--}return!1},e.prototype.getItemsByRange=function(t,e){var n=this.bsearch(t,this.fnCompare),i=this.bsearch(e,this.fnCompare);return this.getItemsByIndexRange(n,i)},e.prototype.getItemsByIndexRange=function(t,e){var n=[];if(e<=t)return n;for(;t<e&&t<this.length;)n.push(this[t]),t++;return n},e}(v),_=function(){function t(t,e){this.config=t,this.scroll=e,this.lists=[]}return t.prototype.clean=function(){this.lists=[]},t.prototype.add=function(t){this.scroll?t.x=t.distance:t.x=(t.distance-t.dWidth)/2,t.dHength>=t.vDistance*(t.textData.vDanmaku?1:this.config.preventShade?.85:1)-(this.config.offsetTop||0)-(this.config.offsetBottom||0)?t.setY(0,-1):this.setY(t,0)},t.prototype.remove=function(t){-1!==t.index&&void 0!==this.lists[t.index]&&this.lists[t.index].bremove(t)},t.prototype.vCheck=function(t,e,n){var i,o,r=t+e.dHength;if(this.scroll){var a=e.x+e.dWidth;for(i=0;i<this.lists[n].length;i++)if(o=this.lists[n][i]){if(t<(this.config.offsetTop||0))return!1;if(!(o.y>r||o.bottom<t)){if(o.getRight(e.start)<e.x||o.getX(e.start)>a){if(o.end<=e.middle)continue;return!1}return!1}}}else for(i=0;i<this.lists[n].length;i++)if(!(((o=this.lists[n][i]).y>r||o.bottom<t)&&t>=(this.config.offsetTop||0)))return!1;return!0},t.prototype.setY=function(t,e){var n=this.config.offsetTop||0,i=!1;void 0!==t.textData.offsetTop&&(i=!0,n=t.textData.offsetTop||0),this.lists.length<=e&&this.lists.push(new v);var o=this.lists[e];if(0===o.length)return t.setY(n,e),void o.push(t);if(this.vCheck(n,t,e)||i)return t.setY(n,e),void this.insert(o,t);for(var r=0;r<o.length;r++){var a=o[r];if(a){if(n=a.bottom+1,this.config.danmakuArea&&6!==t.textData.mode&&t.textData.class<1&&n>t.vDistance*this.config.danmakuArea/100){t.rest=-1;break}if(n+t.dHength>t.vDistance*(t.textData.vDanmaku?1:this.config.preventShade?.85:1)-(this.config.offsetBottom||0))break;if(this.vCheck(n,t,e))return t.setY(n,e),void this.insert(o,t)}}0===this.config.danmakuArea||6===t.textData.mode||t.textData.class>=1?this.setY(t,e+1):t.rest=-1},t.prototype.insert=function(t,e){t.binsert(e,(function(t,e){
return e&&t?t.bottom-e.bottom:0}))},t}(),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),w=function(){function t(t){this.config=t}return t.prototype.onStart=function(t){this.spaceManager.add(t),t.manager=this},t.prototype.onEnd=function(t,e){this.spaceManager.remove(t),t.manager=null,t.free()},t}(),S={1:function(t){function e(e){var n=t.call(this,e)||this;return n.spaceManager=new _(e,!0),n}return x(e,t),e.prototype.onUpdate=function(t,e){return!(!t.paused&&t.rest<(+new Date-t.pauseTime)/1e3)&&(t._x=t.getX(e),t._y=t.y,!0)},e.prototype.onEnd=function(t,e){return this.spaceManager.remove(t),t.manager=null,t.free(e)},e}(w),4:function(t){function e(e){var n=t.call(this,e)||this;return n.spaceManager=new _(e),n}return x(e,t),e.prototype.onUpdate=function(t,e){return!(t.end<e)&&(t._x=t.x,t._y=this.config.height*(this.config.preventShade?.85:1)-(this.config.offsetBottom||0)-t.y-t.height+(this.config.offsetTop||0),!0)},e}(w),5:function(t){function e(e){var n=t.call(this,e)||this;return n.spaceManager=new _(e),n}return x(e,t),e.prototype.onUpdate=function(t,e){return!(t.end<e)&&(t._x=t.x,t._y=t.y,!0)},e}(w),6:function(t){function e(e){var n=t.call(this,e)||this;return n.spaceManager=new _(e,!0),n}return x(e,t),e.prototype.onUpdate=function(t,e){return!(t.end<e)&&(t._x=t.getX(e),t._y=t.y,!0)},e.prototype.onEnd=function(t,e){return this.spaceManager.remove(t),t.manager=null,t.free(e)},e}(w),x:function(t){function e(e){var n=t.call(this,e)||this;return n.spaceManager=new _(e,!0),n}return x(e,t),e.prototype.onUpdate=function(t,e){return!(!t.paused&&t.rest<(+new Date-t.pauseTime)/1e3)&&(t._x=t.getX(e),t._y=t.y,!0)},e}(w)},E=function(t){var e={};for(var n in S)S.hasOwnProperty(n)&&(e[n]=new S[n](t));return e},k={field:1e3,duration:3,liveStart:0,liveCurrent:0,density:0,speed:1.2,resize:function(){this.liveCurrent=0},validateLive:function(t){if(this.config=t,this.density=t.density,t.speed&&(this.speed=t.speed),this.density<0||0!==t.pool)return!0;var e=Math.floor(this.density*(.5*this.speed)/this.duration*this.field/1e3);e<1&&(e=1),0===this.liveStart&&(this.liveStart=+new Date);var n=+new Date;if(n>this.liveStart+this.field)for(this.liveCurrent=0;n>this.liveStart+this.field;)this.liveStart+=this.field;return this.liveCurrent<e&&(this.liveCurrent++,!0)}},O=function(){function t(t){this.recyclingDivList=[],this.config=t.config,this.core=t,this.visualArray=t.visualArray,this.timeLine=t.timeLine,this.danmakuModes=E(this.config),this.lastTime=0,this.init(),this.resize(!0)}return t.prototype.init=function(){this.container=this.config.container},t.prototype.isPause=function(){return this.core.paused},t.prototype.validate=function(t){return!(!t.border&&"x"!==t.mode)||(1===t.mode&&0!==this.config.danmakuNumber?k.validateLive({density:this.config.danmakuNumber,pool:t.class}):!!this.config.danmakuFilter(t))},t.prototype.start=function(t,e,n){if(!t.on&&this.validate(t)){var i=this.danmakuModes[t.mode];if(i){var o=this.getText(t,n);if(i.onStart(o),t.on=!0,o.rest<=0)return void this.end(o);this.visualArray.push(o),e&&this.config.visible&&(o.manager.onUpdate(o,this.config.timeSyncFunc()/1e3),o.pause(o._x,o._y))}this.config.danmakuInserting(t)}},t.prototype.onTime=function(t,e){if(t-=.001,e&&this.clearVisualList(),Math.abs(this.lastTime-t)>3&&!e)this.clearVisualList();else for(var n=this.timeLine.getItemsByRange({stime:e?e-(this.config.verticalDanmaku?this.config.height:this.config.width)/(512*this.config.devicePR)*this.config.duration/this.config.speedPlus/this.config.videoSpeed:this.lastTime-.001},{stime:e||t});n.length;)this.start(n.shift(),!0,e||t);this.lastTime=t},t.prototype.resize=function(t){var e=t?0:(this.container.offsetHeight||420)-this.config.height,n=t?0:(this.container.offsetWidth||680)-this.config.width;if(this.config.width=this.container.offsetWidth||680,
this.config.height=this.container.offsetHeight||420,0!==this.config.danmakuNumber&&k.resize(),this.clearRecyclingDivList(),!t)for(var i,o=this.visualArray.length,r=0;r<o;r++)4===(i=this.visualArray[r]).textData.mode&&(i._y+=e,i._x+=n/2,i.reset(i._x,i._y))},t.prototype.beforeRender=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.afterRender=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.render=function(t,e,n){this.beforeRender(e);for(var i,o=this.visualArray.length,r=[],a=0;a<o;a++)if(i=this.visualArray[a]){var s=i.manager;this.config.danmakuFilter(i.textData)?i.show():i.hide(),s.onUpdate(i,t)?n?i.pause(i._x,i._y):e?i.textData.border?(i.render(i._x,i._y),i.pause(i._x,i._y)):i.pause(i._x,i._y):i.render(i._x,i._y):r.push(i)}o=r.length;for(a=0;a<o;a++)i=r[a],this.end(i);this.afterRender(e)},t.prototype.fresh=function(){for(var t=0;t<this.visualArray.length;t++)this.config.danmakuFilter(this.visualArray[t].textData)?this.visualArray[t].show():this.visualArray[t].hide()},t.prototype.remove=function(t){for(var e=0;e<this.visualArray.length;e++)if(t===this.visualArray[e].textData.dmid){this.visualArray[e].hide(),this.visualArray.splice(e,1);break}},t.prototype.end=function(t,e){t.textData.on=!1;var n=t.manager.onEnd(t,e);this.config.isRecycling&&n&&(this.recyclingDivList[this.recyclingDivList.length]=n),this.visualArray.bremove(t)},t.prototype.clearVisualList=function(){for(;this.visualArray.length;)this.end(this.visualArray[0],!0);this.lastTime=-3,this.clearRecyclingDivList()},t.prototype.option=function(t,e){this.config[t]=e},t.prototype.destroy=function(){this.clearVisualList()},t.prototype.clearRecyclingDivList=function(){var t=this.recyclingDivList&&this.recyclingDivList.length;if(t)for(var e=t-1;e>=0;e--)this.recyclingDivList[e]instanceof HTMLElement&&(this.recyclingDivList[e].style.display="none")},t}(),D=function(){function t(t,e,n,i){void 0===n&&(n=0),this.textData=t,this.config=m.assign({},e),this.width=0,this.height=0,this.parentWidth=this.config.width,this.parentHeight=this.config.height,this.element=null,this.start=0,this.end=0,this.speed=0,this.x=0,this.y=0,this.bottom=0,this.index=16777215,this.precise=n||0,this.browserPrefix=["","-webkit-","-moz-","-ms-"],this.parent=this.config.container,this.recyclingDiv=i,this.init()}return t.prototype.init=function(){1!==this.textData.mode&&4!==this.textData.mode&&5!==this.textData.mode&&6!==this.textData.mode||(window.String.prototype.trim||(window.String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),this.textData.text&&(this.textData.text=this.textData.text.trim()));var t=this.textRender(this.textData,this.config);this.element=t.bitmap,this.width=t.width,this.height=t.height,this.textData.vDanmaku?(this.distance=this.config.height,this.vDistance=this.config.width,this.dWidth=t.height,this.dHength=t.width,this.wDistance=this.parentHeight,this.X="Y",this.Y="X"):(this.distance=this.config.width,this.vDistance=this.config.height,this.dWidth=t.width,this.dHength=t.height,this.wDistance=this.parentWidth,this.X="X",this.Y="Y"),this.getTimePoints(),1!==this.textData.mode&&6!==this.textData.mode&&"x"!==this.textData.mode||(this.getSpeed(),this.end=this.start+(this.distance+this.dWidth)/this.speed*this.config.videoSpeed,this.middle=this.start+this.distance/this.speed*this.config.videoSpeed),this.rest=(this.distance+this.dWidth)/this.speed-this.precise},t.prototype.GetOutlineColor=function(t){return t.color?0:16777215},t.prototype.getSpeed=function(){if("x"===this.textData.mode)return this.speed=(this.distance+this.dWidth)/(this.textData.duration||this.config.duration),!0;this.speed=(512*this.config.devicePR+this.dWidth)/(this.textData.duration||this.config.duration)*this.config.speedPlus*(this.config.speedSync?this.config.videoSpeed:1)},t.prototype.getTimePoints=function(){this.start=this.textData.stime,this.end=this.start+(this.textData.duration||this.config.duration)*this.config.videoSpeed},t.prototype.setY=function(t,e){this.y=t,this.bottom=this.y+this.dHength,
this.index=e},t.prototype.getX=function(t){return this.pauseTime=this.pauseTime||+new Date,this.distance-(+new Date-this.pauseTime+1e3*((this.distance+this.dWidth)/this.speed-this.rest))/1e3*this.speed},t.prototype.getRight=function(t){return this.getX(t)+this.dWidth},t.prototype.free=function(t){var e=this.config&&this.config.isRecycling,n=this.element;if(e&&!t&&(1===this.textData.mode||6===this.textData.mode))return this.config=null,this.textData=null,n;this.config=null,this.textData=null,this.textFree(this.element),this.element=null},t.prototype.hide=function(){this.element.style.visibility="hidden"},t.prototype.show=function(){this.element.style.visibility=""},t}(),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(t){function e(e,n,i,o){return void 0===i&&(i=0),t.call(this,e,n,i,o)||this}return A(e,t),e.prototype.textRender=function(t,e){var n,i=[],o=m.getHexColor(this.GetOutlineColor(t));i[0]="1px 0 1px "+o+",0 1px 1px "+o+",0 -1px 1px "+o+",-1px 0 1px "+o,i[1]="0px 0px 1px "+o+",0 0 1px "+o+",0 0 1px "+o,i[2]="1px 1px 2px "+o+",0 0 1px "+o;var r=!0;this.recyclingDiv?(r=!1,(n=this.recyclingDiv).innerHTML=""):(n=document.createElement("div")).className="bilibili-danmaku",t.divClassName&&(n.className=n.className+" "+t.divClassName);var a="-webkit-touch-callout: none; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;position: absolute; white-space: pre; pointer-events: none;-webkit-perspective:500px;display:none;will-change: transform;";t.text&&(n.innerText=t.text.replace(/\r/g,"\r\n")),t.html?n.innerHTML=t.html:(a+="font-size: "+(t.size*e.fontSize*(e.fullScreenSync?this.parent.getBoundingClientRect().height/440:1)+e.fontSizeUnit)+"; ",a+="color: "+m.getHexColor(t.color)+" ;",a+="font-family: "+e.fontFamily+", Arial, Helvetica, sans-serif; ",a+="font-weight: "+(e.bold?"bold":"normal")+"; ",a+="line-height: 1.125 ;",a+="opacity: "+(e.opacity<.1?.1:e.opacity)+"; ",a+="text-shadow: "+i[e.fontBorder]+"; "),t.border&&(a+="border: 1px solid "+m.getHexColor(t.borderColor)+"; ",a+="padding-left: 1px; padding-right: 1px;"),t.vDanmaku?(6===t.mode?a+="bottom: "+this.config.height+"px;":a+="top: "+this.config.height+"px;",a+="-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:tb-rl;writing-mode:vertical-rl;"):6===t.mode?a+="right: "+this.config.width+"px;":a+="left: "+this.config.width+"px;",a+="filter: glow(color=#000000,strength=3);",n.style.cssText=a,r&&this.parent.appendChild(n),n.style.display="inline-block";var s=n.getBoundingClientRect();return{bitmap:n,width:s.width,height:s.height}},e.prototype.render=function(t,e){var n,i;if(6===this.textData.mode&&(i=!0),this.startTime||(this.startTime=+new Date),!this.running){if(this.running=!0,this.pauseTime=+new Date,this.textData.vDanmaku?this.element.style.right=e+"px":this.element.style.top=e+"px",4===this.textData.mode||5===this.textData.mode)return this.element.style.left="50%",void(this.element.style.marginLeft=-this.width/2+"px");if(1===this.textData.mode||6===this.textData.mode||"x"===this.textData.mode)for(i?this.element.style.right=t+"px":this.element.style.left=t+"px",n=0;n<this.browserPrefix.length;n++)this.element.style.cssText+=this.browserPrefix[n]+"transform: translate"+this.X+"("+(i?1:-1)*(this.distance+this.dWidth)+"px) translate"+this.Y+"(0px) translateZ(0px);"+this.browserPrefix[n]+"transition: "+this.browserPrefix[n]+"transform "+this.rest+"s linear;"}if((1===this.textData.mode||6===this.textData.mode||"x"===this.textData.mode)&&this.paused)for(this.paused=!1,this.pauseTime=+new Date,
n=0;n<this.browserPrefix.length;n++)this.element.style.cssText+=this.browserPrefix[n]+"transform: translate"+this.X+"("+(i?1:-1)*(this.wDistance+this.dWidth)+"px) translate"+this.Y+"(0px) translateZ(0px);"+this.browserPrefix[n]+"transition: "+this.browserPrefix[n]+"transform "+this.rest+"s linear;"},e.prototype.reset=function(t,e){this.textData.vDanmaku?this.element.style.right=e+"px":this.element.style.top=e+"px"},e.prototype.pause=function(t,e){var n,i;if(this.running||(this.running=!0,this.pauseTime=+new Date,this.textData.vDanmaku?this.element.style.right=e+"px":this.element.style.top=e+"px"),1===this.textData.mode||6===this.textData.mode||"x"===this.textData.mode)for(6===this.textData.mode&&(i=!0),this.paused=!0,this.pauseTime&&(this.rest=this.rest-(+new Date-this.pauseTime)/1e3),this.pauseTime=+new Date,n=0;n<this.browserPrefix.length;n++)this.element.style.cssText+=this.browserPrefix[n]+"transform: translate"+this.X+"("+(i?1:-1)*(this.wDistance-t)+"px) translate"+this.Y+"(0px) translateZ(0px);"+this.browserPrefix[n]+"transition: "+this.browserPrefix[n]+"transform 0s linear;";else if(4===this.textData.mode||5===this.textData.mode)return this.element.style.left="50%",void(this.element.style.marginLeft=-this.width/2+"px")},e.prototype.textFree=function(t){this.parent.removeChild(t)},e}(D),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(t){function e(e){return t.call(this,e)||this}return T(e,t),e.prototype.getText=function(t,e){var n;return this.config.isRecycling&&this.recyclingDivList.length&&(n=this.recyclingDivList.splice(0,1)[0]),!this.config.verticalDanmaku||1!==t.mode&&6!==t.mode&&"x"!==t.mode?t.vDanmaku=!1:t.vDanmaku=!0,new L(t,this.config,e?e-t.stime:0,n)},e}(O),j=function(){function t(t){this.config=m.assign({container:document.getElementById("player"),bold:!0,duration:4.5,danmakuNumber:300,danmakuArea:0,fontBorder:0,fontFamily:'SimHei, "Microsoft JhengHei"',fontSize:1,fontSizeUnit:"px",fullScreenSync:!1,offsetTop:0,offsetBottom:0,opacity:1,preventShade:!1,speedPlus:1,speedSync:!1,type:"div",videoSpeed:1,visible:!0,isRecycling:!1,verticalDanmaku:!1,devicePR:1,danmakuFilter:function(t){return!0},danmakuInserting:function(t){},containerUpdating:function(t){},listUpdating:function(t){},countUpdating:function(t){},timeSyncFunc:function(){return window.performance.now()}},t),this.container=this.config.container,this.paused=!0,this.danmakuArray=[],this.time=0,this.timeZero=0,this.pauseTime=0,this.startTime=(new Date).getTime(),this.visualArray=new v,this.timeLine=new g,this.config.videoSpeed=this.config.videoSpeed||1,this.setType(),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}}return t.prototype.writingMode=function(t){this.config.verticalDanmaku!==t&&(this.config.verticalDanmaku=t,this.seek(this.time/1e3,!0))},t.prototype.addTimely=function(t){var e=this.renderDanmaku(t);-1===t.stime?this.manager&&this.manager.start(e,!0):(this.timeLine.insert(e),e.border&&this.manager&&this.manager.start(e,!0))},t.prototype.renderDanmaku=function(t){return m.assign({},t,{border:t.border||!1,borderColor:t.borderColor||6750207,on:!1})},t.prototype.setType=function(t,e){t=t||this.config.type,this.config.type=t;var n=this.config.container,i={div:"div",css:"section",canvas:"canvas"};if(n.tagName.toLowerCase()!==i[t]){var o=n.getAttribute("class"),r=n.getAttribute("id"),a=n.parentNode,s=n.offsetWidth,c=n.offsetHeight;a.removeChild(n),
this.manager&&this.manager.destroy();var l=e||document.createElement(i[t]);a.appendChild(l),l.setAttribute("class",o),l.width=s*this.config.devicePR,l.height=c*this.config.devicePR,r&&l.setAttribute("id",r),this.config.container=l,this.manager=this.createManager(t),this.config.containerUpdating(n)}else this.manager||(this.manager=this.createManager(t))},t.prototype.count=function(){return this.danmakuArray?this.danmakuArray.length:0},t.prototype.createManager=function(t){var e;switch(t){case"div":e=new C(this);break;default:e=new C(this)}return e},t.prototype.danmakuType=function(t){if(!t)return this.config.type;if(t===this.config.type)return t;switch(t){case"div":this.option("type","div");break;case"canvas":this.option("type","canvas");break;default:this.option("type","div")}return t},t.prototype.play=function(t){var e=this;this.paused=!1,this.timeZero=this.pauseTime,this.pauseTime=0,this.animate&&window.cancelAnimationFrame(this.animate),this.animate=window.requestAnimationFrame((function(){e.startTime=(new Date).getTime(),e.nextFrame(t)}))},t.prototype.pause=function(){this.paused=!0;var t=(new Date).getTime();this.pauseTime=this.timeZero+t-this.startTime},t.prototype.toggle=function(){this.paused?this.play():this.pause()},t.prototype.seek=function(t,e){e||this.clear(),this.timeZero=1e3*t,this.startTime=(new Date).getTime(),this.paused?(this.play(e?t:0),this.pause()):this.play(e?t:0)},t.prototype.add=function(t){t.canvas&&t.canvas.length<1||(-1===t.stime&&(t.stime=this.config.timeSyncFunc()/1e3+.1),this.danmakuArray.push(t),this.addTimely(t),"function"==typeof this.config.listUpdating&&this.config.listUpdating(this.danmakuArray),"function"==typeof this.config.countUpdating&&this.config.countUpdating(this.danmakuArray.length))},t.prototype.remove=function(t){if(this.manager){for(var e=0;e<this.danmakuArray.length;e++)t===this.danmakuArray[e].dmid&&this.danmakuArray.splice(e,1);this.manager.remove(t)}},t.prototype.multipleAdd=function(t){if(t&&t.length){this.danmakuArray=this.danmakuArray.concat(t);for(var e=0;e<t.length;e++)this.timeLine.insert(t[e]);"function"==typeof this.config.listUpdating&&this.config.listUpdating(this.danmakuArray),"function"==typeof this.config.countUpdating&&this.config.countUpdating(this.danmakuArray.length)}},t.prototype.searchAreaDanmaku=function(t,e){t=(t||0)*this.config.devicePR,e=(e||0)*this.config.devicePR;for(var n=[],i=this.visualArray.length-1;i>=0;i--){var o=this.visualArray[i];this.config.danmakuFilter(o.textData)&&(this.config.verticalDanmaku&&o.textData&&4!==o.textData.mode&&5!==o.textData.mode?o.textData&&6===o.textData.mode?e>=o.x-o._x-o.dWidth-5&&e<=o.x-o._x+5&&o.vDistance-t>=o._y-5&&o.vDistance-t-o.dHength<=o._y+5&&n.push(o):e>=o._x-5&&e<=o._x+o.dWidth+5&&o.vDistance-t>=o._y-5&&o.vDistance-t-o.dHength<=o._y+5&&n.push(o):o.textData&&6===o.textData.mode?t>=o.x-o._x-o.width-5&&t<=o.x-o._x+5&&e>=o._y-5&&e-o.height<=o._y+5&&n.push(o):t>=o._x-5&&t<=o._x+o.width+5&&e>=o._y-5&&e-o.height<=o._y+5&&n.push(o))}return n},t.prototype.option=function(t,e){if(t&&void 0!==e)switch(t){case"container":if(1===arguments.length)return this.config.container;if(!e||"object"!=typeof e||1!==e.nodeType||"string"!=typeof e.nodeName)return;return void this.setType(this.config.type,e);case"type":if(1===arguments.length)return this.config.type;this.setType(e),this.seek(this.time/1e3,!0);break;case"fontfamily":if(1===arguments.length)return this.config.fontFamily;this.manager&&(this.manager.config.fontFamily=e);break;case"bold":if(1===arguments.length)return this.config.bold;this.manager&&(this.manager.config.bold=e);break;case"preventshade":if(1===arguments.length)return this.config.preventShade;this.manager&&(this.manager.config.preventShade=e);break;case"speedplus":if(1===arguments.length)return this.config.speedPlus;this.manager&&(this.manager.config.speedPlus=e);break;case"speedsync":if(1===arguments.length)return this.config.speedSync;this.manager&&(this.manager.config.speedSync=e);break;case"fontsize":if(1===arguments.length)return this.config.fontSize;this.manager&&(this.manager.config.fontSize=e)
;break;case"fontsizeunit":if(1===arguments.length)return this.config.fontSizeUnit;this.manager&&(this.manager.config.fontSizeUnit=e);break;case"fullscreensync":if(1===arguments.length)return this.config.fullScreenSync;this.manager&&(this.manager.config.fullScreenSync=e);break;case"danmakunumber":if(1===arguments.length)return this.config.danmakuNumber;this.manager&&(this.manager.config.danmakuNumber=e);break;case"danmakuArea":if(1===arguments.length)return this.config.danmakuArea;if(this.manager){var n=+e;(n||0===n)&&(n=n<0?0:n>100?100:n,this.manager.config.danmakuArea=n)}break;case"duration":if(1===arguments.length)return this.config.duration;this.manager&&(this.manager.config.duration=e);break;case"fontborder":if(1===arguments.length)return this.config.fontBorder;this.manager&&(this.manager.config.fontBorder=e);break;case"visible":if(1===arguments.length)return this.config.visible;this.manager&&(this.manager.config.visible=e);break;case"speedSync":if(1===arguments.length)return this.config.speedSync;this.manager&&(this.manager.config.speedSync=e);break;case"videospeed":if(1===arguments.length)return this.config.videoSpeed;this.manager&&(this.manager.config.videoSpeed=e);break;case"opacity":if(1===arguments.length)return this.config.opacity;this.manager&&(this.manager.config.opacity=e);break;default:this.manager&&this.manager.option(t,e)}},t.prototype.nextFrame=function(t){var e=this,n=(new Date).getTime();if(this.time=this.timeZero+(n-this.startTime)*this.config.videoSpeed,"function"==typeof this.config.timeSyncFunc){var i=this.config.timeSyncFunc();(Math.abs(i-this.time)>1e3||isNaN(this.time))&&(this.time=i,this.timeZero=i,this.startTime=n)}!isNaN(this.time)&&this.manager&&this.visible()&&(this.manager.onTime(this.time/1e3,t),this.manager.render(this.time/1e3,this.paused,t)),this.paused||(this.animate=window.requestAnimationFrame((function(){e.nextFrame()})))},t.prototype.visible=function(t){return 0===arguments.length?this.config.visible:(this.config.visible!==t&&(this.config.visible=t,!this.config.visible&&this.manager&&this.manager.clearVisualList()),t)},t.prototype.resize=function(t){this.manager&&(this.manager.resize(t),this.time&&t&&this.seek(this.time/1e3,!0))},t.prototype.clear=function(){this.manager.clearVisualList()},t.prototype.destroy=function(){this.pause(),this.clear()},t.prototype.reload=function(){this.timeLine=new g,this.visualArray=new v},t}(),P={reload_count:10,raw:"",load:function(t,e){var n=this;void 0===e.reload_count&&(e.reload_count=10),n.loadData(t,(function(i,o,r){i?"http:"===window.location.protocol&&t&&n.reload_count>0?(n.reload_count--,/^(http:)?\/\//.test(t)?setTimeout((function(){n.load(t.replace(/^(http:)?\/\//,"https://"),e)}),1e3):setTimeout((function(){n.load(t.replace(/^(https:)?\/\//,"http://"),e)}),1e3)):n.reload_count>0?(n.reload_count--,setTimeout((function(){n.load(t,e)}),1e3)):"function"==typeof e.failedCallback&&e.failedCallback(i,o):n.parse(o,e,r)}),e.withCredentials)},parseData:function(t){try{t=t.replace(/[\x00-\x08\x0b-\x0c\x0e-\x1f\x7f]/g,"")}catch(t){logger.w(t)}return this.raw=t,(new window.DOMParser).parseFromString(t,"text/xml")},loadData:function(t,e,n){var i=this,o=+new Date,r=new XMLHttpRequest;r.addEventListener("load",(function(){o=+new Date-o,e(null,i.parseData(r.response),o)})),r.addEventListener("error",(function(){e(r.statusText||"ioError",r)})),r.addEventListener("abort",(function(){e(r.statusText||"ioError",r)})),r.open("GET",t,!0),n&&(r.withCredentials=!0),r.send()},parse:function(t,e,n){if("function"==typeof e.parseFunc)e.parseFunc(t);else{if(t){var i,o,r,a,s,c,l=[],u=+new Date;for(o=t.getElementsByTagName("d"),r=t.getElementsByTagName("state"),a=t.getElementsByTagName("text"),s=t.getElementsByTagName("text_side"),i=t.getElementsByTagName("maxlimit"),r&&r[0]&&(r=+r[0].textContent),a=a&&a[0]?a[0].textContent:"",s=s&&s[0]?s[0].textContent:"",i=i&&i[0]?i[0].textContent:"-",c=0;c<o.length;c++){var p=o[c],d=p.getAttribute("p").split(","),f=p.textContent,h=p.getAttribute("e"),m=void 0,y=void 0;f||(f=p.text),void 0!==f&&(m={stime:Number(d[0]),
mode:Number(d[1]),size:Number(d[2]),color:Number(d[3]),date:Number(d[4]),class:Number(d[5]),uid:d[6],dmid:String(d[7]),text:9===Number(d[1])?String(f):String(f).replace(/(\/n|\\n|\n|\r\n)/g,"\r")},"string"==typeof h&&(y=h.split(","),m.mid=+y[0],m.uname=y[1]),l.push(m))}return"function"==typeof e.successCallback&&e.successCallback(l,i,n,+new Date-u,r,this.raw,a,s),!1}"function"==typeof e.failedCallback&&e.failedCallback("parse error, empty data.")}}};function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var N=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.danmakuCore=new j({container:e.container,bold:!0,danmakuNumber:80,danmakuArea:100,fontBorder:2,fontFamily:"SimHei, 'Microsoft JhengHei'",fontSize:window.hotcss?window.hotcss.px2rem(32,750)/25:.618+.382/(2*window.devicePixelRatio),fontSizeUnit:window.hotcss?"rem":"px",opacity:.75,preventShade:!1,speedPlus:1,speedSync:!1,type:"div",videoSpeed:1,visible:!0,devicePR:window===window.parent&&window.hotcss?window.hotcss.dpr:1,isRecycling:!0,verticalDanmaku:!1,timeSyncFunc:function(){return e.video?1e3*e.video.currentTime:0}}),P.load(e.url,{successCallback:function(t,i,o,r,a,s,c,l){n.danmakuCore.danmakuArray=t;for(var u=0;u<n.danmakuCore.danmakuArray.length;u++)0!==n.danmakuCore.danmakuArray[u].text.replace(/\r/g,"").length&&n.danmakuCore.addTimely(n.danmakuCore.danmakuArray[u]);e.video.paused||n.danmakuCore.seek(e.video.currentTime,!0)},failedCallback:function(t,e){}})}var e,n,i;return e=t,(n=[{key:"visible",value:function(){var t;return(t=this.danmakuCore).visible.apply(t,arguments)}},{key:"resize",value:function(){var t=this;if(!this.resizing){this.resizing=!0;var e=this.danmakuCore.paused;window.requestAnimationFrame((function(){setTimeout((function(){t.pause(),window.requestAnimationFrame((function(){setTimeout((function(){t.danmakuCore.resize(),e||t.play(),t.resizing=!1}),0)}))}),0)}))}}},{key:"pause",value:function(){var t;(t=this.danmakuCore).pause.apply(t,arguments)}},{key:"play",value:function(){var t;(t=this.danmakuCore).play.apply(t,arguments)}},{key:"seek",value:function(){var t;(t=this.danmakuCore).seek.apply(t,arguments)}}])&&F(e.prototype,n),i&&F(e,i),t}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){this.options={send_cmt_url:"//corpcmt.hdslb.net/post",get_cmt_url:null},"object"===R(e)&&(this.options=Object.assign({},this.options,e)),this.options.cmt_url&&this.options.cmt_url.match(/[\d*]/g)&&(this.options.cid=this.options.cmt_url.match(/[\d*]/g).join("")),this.elem=t,this.screen_state=I.UI_NORMAL,this.video_state=I.V_IDEL,this.control_bar_visible=!0,this.control_bar_timer=null,this.control_bar_timer_delay=3e3,this.timer=null,this.sliderCtrl=null,this.volumeCtrl=null,this.volume=1,this.currentTime=0,this.duration=0,this.live_mode=e.live,this.init_ui(this.options),this.start_video=this.start_video,this.random=Math.floor(1e5*Math.random()),this.hidePlayIcon=!1,this.ws()}function q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}I.UI_NORMAL=0,I.UI_WIDE=1,I.UI_FULL=2,I.V_IDEL=0,I.V_READY=1,I.V_BUFF=2,I.V_PLAY=3,I.V_PAUSE=4,I.V_COMPLETE=5,I.V_CANPLAY=6,I.V_PLAYING=7,I.E_VIDEO_READY="ready",I.E_VIDEO_PLAY="video_media_play",I.E_VIDEO_PAUSE="video_media_pause",I.E_VIDEO_LOADSTART="video_media_loadstart",I.E_VIDEO_CANPLAY="video_media_canplay",I.E_VIDEO_WAITING="video_media_waiting",I.E_VIDEO_ENDED="video_media_ended",I.E_VIDEO_ERROR="video_media_error",I.E_VIDEO_LOADED="video_media_loaded",I.E_VIDEO_SEEK="video_media_seek",I.E_VIDEO_TIME="video_media_time",I.isFullscreen=function(){
return null!=(document.webkitFullscreenElement||document.fullScreenElement||document.mozFullScreenElement||document.msFullscreenElement)},I.requestFullscreen=function(t,e){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.webkitEnterFullScreen?e.webkitEnterFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},I.exitFullscreen=function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},I.prototype={constructor:I,play:function(){this.play_video()},seek:function(t){this.seek_video(t)},pause:function(){this.pause_video()},getDuration:function(){return this.video_duration()},isFullScreen:function(){return I.isFullscreen()},init_ui:function(t){var e=this;t=t||{};var n=this,i=navigator.userAgent;function o(t){n.on_fullscreen_change(t)}i.match("Android")&&i.match("BiliApp")&&(this.elem.querySelector(".btn-widescreen").style.display="none"),this.elem.querySelector(".btn-widescreen").onclick=function(){window!==window.parent&&n.screen_state!==I.UI_FULL?n.to_full_screen():window===window.parent&&n.screen_state!==I.UI_WIDE?n.to_wide_screen():n.to_normal_screen()},this.elem.querySelector(".btn-fullscreen").onclick=function(){n.screen_state!==I.UI_FULL?n.to_full_screen():n.to_normal_screen()},document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1),document.addEventListener("fullscreenchange",o,!1),this.elem.querySelector(".display").onmousemove=function(t){n.on_display_mousemove(t)},this.elem.querySelector(".display").onclick=function(t){n.on_display_click(t)},this.elem.querySelector(".control-bar").onclick=function(t){n.get_video_state()===I.V_PLAY&&n.set_control_bar_visible(!1,n.control_bar_timer_delay)},this.elem.querySelector(".btn-play").onclick=function(t){r.hasClass("hide")?n.on_play_btn_click(t):r.click()},this.elem.querySelector(".btn-pause").onclick=function(t){n.on_pause_btn_click(t)},this.elem.querySelector(".btn-comment").onclick=function(t){n.on_comment_btn_click(t)},this.elem.querySelector(".btn-repeat").onclick=function(t){n.on_repeat_btn_click(t)},this.elem.querySelector(".btn-mute").onclick=function(t){n.on_mute_btn_click(t)},this.elem.querySelector(".btn-unmute").onclick=function(t){n.on_unmute_btn_click(t)},this.sliderCtrl=new f({player:this,parent:this.elem.querySelector(".control-slider"),upLayer:this.elem.querySelector(".display"),onChange:function(t){n.on_slider_seek(t)}}),this.volumeCtrl=new f({parent:this.elem.querySelector(".control-volume-slider"),upLayer:this.elem.querySelector(".control-volume-slider"),liveDragging:!0,onChange:function(t){n.on_volume_slider_seek(t)},value:100*this.volume});var r=n.elem.querySelector(".load-layer"),a=this.elem.querySelector("video");"audio"===this.options.type&&(a=this.elem.querySelector("audio")),t.video_url?(t.img&&(r.querySelector("img").setAttribute("src",t.img),a.setAttribute("poster",t.img)),r.onclick=function(){n.start_video()}):r.classList.add("hide"),t.preload&&(a.setAttribute("src",t.video_url),this.video=a,a.addEventListener("play",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_PLAY),n.on_video_play(a)}),{passive:!0}),a.addEventListener("playing",(function(){n.on_video_playing(a)})),a.addEventListener("pause",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_PAUSE),n.on_video_pause(a)}),{passive:!0}),a.addEventListener("waiting",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_WAITING),n.on_video_waiting(a)}),{passive:!0}),a.addEventListener("loadstart",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_LOADSTART),
n.on_video_loadstart(a)}),{passive:!0}),a.addEventListener("canplay",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_CANPLAY),n.on_video_canplay(a)})),a.addEventListener("ended",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_ENDED),n.on_video_ended(a)}),{passive:!0}),a.addEventListener("loadeddata",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_LOADED)}),{passive:!0}),a.addEventListener("error",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_ERROR)}),{passive:!0}),a.addEventListener("timeupdate",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_TIME)}),{passive:!0}),a.addEventListener("seeking",(function(){n.options.eventBus&&n.options.eventBus.dispatch(I.E_VIDEO_SEEK)}),{passive:!0})),/iPad/.test(window.navigator.userAgent)?(n.elem.querySelector(".btn-mute").classList.add("hide"),n.elem.querySelector(".control-volume-slider").classList.add("hide"),n.elem.querySelector(".btn-fullscreen").classList.add("hide"),n.elem.querySelector(".control-bar").classList.add("ipad")):(n.elem.querySelector(".btn-mute").classList.add("hide"),n.elem.querySelector(".control-volume-slider").classList.add("hide"),n.elem.querySelector(".btn-fullscreen").classList.add("hide"),n.elem.querySelector(".btn-repeat").classList.add("hide")),window.addEventListener("orientationchange",(function(){e.screen_state===I.UI_WIDE&&(0===window.orientation&&e.options.portrait_full_screen?(e.elem.querySelector(".player-box").classList.add("portrait"),e.portrait_resize(1)):(e.elem.querySelector(".player-box").classList.remove("portrait"),e.portrait_resize(0)))})),window.addEventListener("resize",(function(){e.screen_state===I.UI_WIDE&&0===window.orientation&&e.options.portrait_full_screen&&e.portrait_resize(1)}))},init_video:function(t,e,n){var i=this;t=t||"",e=e||"video/mp4";var o=this,r=this.elem.querySelector("video");"audio"===this.options.type&&(r=this.elem.querySelector("audio")),this.video=r,n||(this.play_video(),r.setAttribute("src",t),r.addEventListener("play",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_PLAY),o.on_video_play(r)}),{passive:!0}),r.addEventListener("playing",(function(){o.on_video_playing(r)})),r.addEventListener("pause",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_PAUSE),o.on_video_pause(r)}),{passive:!0}),r.addEventListener("waiting",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_WAITING),o.on_video_waiting(r)}),{passive:!0}),r.addEventListener("loadstart",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_LOADSTART),o.on_video_loadstart(r)}),{passive:!0}),r.addEventListener("canplay",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_CANPLAY),o.on_video_canplay(r)})),r.addEventListener("ended",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_ENDED),o.on_video_ended(r)}),{passive:!0}),r.addEventListener("loadeddata",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_LOADED)}),{passive:!0}),r.addEventListener("error",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_ERROR)}),{passive:!0}),r.addEventListener("timeupdate",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_TIME)}),{passive:!0}),r.addEventListener("seeking",(function(){o.options.eventBus&&o.options.eventBus.dispatch(I.E_VIDEO_SEEK)}),{passive:!0}),r.addEventListener("seeked",(function(){i.danmaku&&i.danmaku.seek(r.currentTime)})),r.addEventListener("webkitendfullscreen",(function(){i.on_fullscreen_change()}),!1)),this.timer=setInterval((function(){o.on_timer_interval()}),100),this.set_video_state(I.V_READY)},on_video_play:function(t){this.set_video_state(I.V_PLAY)},on_video_playing:function(t){this.set_video_state(I.V_PLAYING)},on_video_pause:function(t){this.set_video_state(I.V_PAUSE)},on_video_waiting:function(t){this.set_video_state(I.V_BUFF)},on_video_loadstart:function(t){this.set_video_state(I.V_BUFF)},on_video_canplay:function(t){this.set_video_state(I.V_CANPLAY)},
on_video_ended:function(t){this.set_video_state(I.V_COMPLETE)},set_video_state:function(t){var e=this.video_state;if(e!==t){switch(this.elem.querySelector(".state-icon i").classList.remove("active"),t){case I.V_READY:this.options.eventBus&&this.options.eventBus.dispatch(I.E_VIDEO_READY,{play:this.play.bind(this),pause:this.pause.bind(this),seek:this.seek.bind(this),getDuration:this.getDuration.bind(this),isFullScreen:this.isFullScreen});break;case I.V_PLAY:this.elem.querySelector(".btn-play").classList.add("hide"),this.elem.querySelector(".btn-pause").classList.remove("hide"),this.elem.querySelector(".player-box").classList.add("full"),this.elem.querySelector(".state-icon i.play-icon").classList.add("active"),this.elem.querySelector(".state-icon i.pause-icon").classList.remove("active"),this.firstBuff?(this.firstBuff=!1,this.set_control_bar_visible(!1)):this.set_control_bar_visible(!1,this.control_bar_timer_delay),this.danmaku&&this.danmaku.play();break;case I.V_PAUSE:this.elem.querySelector(".btn-pause").classList.add("hide"),this.elem.querySelector(".btn-play").classList.remove("hide"),this.elem.querySelector(".state-icon i.pause-icon").classList.add("active"),this.elem.querySelector(".state-icon i.play-icon").classList.remove("active"),this.danmaku&&this.danmaku.pause();break;case I.V_BUFF:void 0===this.firstBuff&&(this.firstBuff=!0),this.hidePlayIcon=!0,this.elem.querySelector(".state-icon").classList.remove("hide"),this.elem.querySelector(".state-icon i.buff-icon").classList.add("active"),this.danmaku&&this.danmaku.pause();break;case I.V_COMPLETE:this.elem.querySelector(".state-icon i.pause-icon").classList.add("active");break;case I.V_CANPLAY:c(".load-layer","hide")&&this.elem.querySelector(".load-layer").click(),this.elem.querySelector(".btn-play").classList.add("hide"),this.elem.querySelector(".input-bar").classList.add("hide"),this.elem.querySelector(".btn-pause").classList.remove("hide"),this.elem.querySelector(".player-box").classList.add("full"),this.elem.querySelector(".state-icon i.play-icon").classList.remove("active"),this.elem.querySelector(".state-icon i.pause-icon").classList.add("active"),this.firstBuff?(this.firstBuff=!1,this.set_control_bar_visible(!1)):this.set_control_bar_visible(!1,this.control_bar_timer_delay),this.danmaku&&this.danmaku.pause();break;case I.V_PLAYING:this.set_control_bar_visible(!1),this.elem.querySelector(".state-icon i.play-icon").classList.add("active"),this.elem.querySelector(".state-icon i.pause-icon").classList.remove("active"),this.danmaku&&this.danmaku.play()}t!==I.V_PLAY&&(this.elem.querySelector(".player-box").classList.remove("full"),this.set_control_bar_visible(!0)),this.video_state=t,this.on_state_change(this.video_state,e)}},on_state_change:function(t,e){this.options.on_state_change&&this.options.on_state_change(t,e)},get_video_state:function(){return this.video_state},start_video:function(t,e,n){var i=this.options,o=this;this.elem.querySelector(".load-layer").classList.add("hide"),this.init_video(i.video_url,i.video_type,i.preload),this.init_comment(),this.options.autoplay||this.play_video(),"audio"===this.options.type||(this.elem.querySelector("video").classList.add("show"),this.elem.querySelector("video").style.display="inline"),this.set_control_bar_visible(!1),l(this.elem.querySelector(".state-icon i.play-icon"),"click",(function(t){c(this,"active")&&o.pause_video()})),l(this.elem.querySelector(".state-icon i.pause-icon"),"click",(function(t){o.play_video()}))},pause_video:function(){var t=this.video;t&&t.pause()},play_video:function(){var t=this.video,e=window.navigator.userAgent,n=document.querySelectorAll("video");if(t){if(e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||e.indexOf("iPad")>-1)for(var i=0;i<n.length;i++)n[i].pause();t.play(),!this.tracked&&this.options.track&&(this.tracked=!0,this.send_track())}},set_duration:function(t){this.duration=t},seek_video:function(t){this.video&&(t=Math.max(0,t),this.options.max_duration||(t=Math.min(t,this.video_duration()-.5)),this.video.currentTime=t,this.video.play())},set_volume:function(t){this.volume=t,
this.video&&(this.video.volume=t)},video_time:function(){return this.currentTime},video_duration:function(){return this.duration},on_timer_interval:function(){this.update_time(this.video.currentTime,this.video.duration)},on_slider_seek:function(t){this.seek_video(t)},on_volume_slider_seek:function(t){this.set_volume(t/100)},update_time:function(t,e){if(e!=this.duration){this.maxDuration=this.options.max_duration>0?Math.min(this.options.max_duration,e):e;var n=this.duration;this.duration=e,this.sliderCtrl.setMax(this.maxDuration),Math.floor(n)!==Math.floor(this.maxDuration)&&(this.elem.querySelector(".time-total-text").innerText=s(this.maxDuration))}if(this.currentLessThanMaxDurationStatus&&t>this.maxDuration?(this.currentLessThanMaxDurationStatus=!1,this.seek_video(this.duration-.1)):t<this.maxDuration&&!this.currentLessThanMaxDurationStatus&&this.options.max_duration>0&&(this.currentLessThanMaxDurationStatus=!0),t!==this.currentTime){var i=this.currentTime;this.currentTime=t,this.sliderCtrl.setValue(t,!1),Math.floor(i)!==Math.floor(t)&&(this.elem.querySelector(".time-current-text").innerText=s(t>this.maxDuration?this.maxDuration:t))}},portrait_resize:function(t){t?(this.elem.querySelector(".player-box").style.width=document.documentElement.clientHeight+"px",this.elem.querySelector(".player-box").style.height=document.documentElement.clientWidth+"px"):(this.elem.querySelector(".player-box").style.width=null,this.elem.querySelector(".player-box").style.height=null)},to_wide_screen:function(){switch(this.screen_state){case I.UI_NORMAL:this.elem.classList.add("wide"),0===window.orientation&&this.options.portrait_full_screen&&(this.elem.querySelector(".player-box").classList.add("portrait"),this.portrait_resize(1));break;case I.UI_FULL:this.elem.querySelector(".player-box").classList.remove("full"),this.set_control_bar_visible(!0),I.exitFullscreen()}try{window.player_fullwin(!0)}catch(t){}this.parent=this.elem.parentNode;var t=this.video.paused;document.querySelector("body").appendChild(this.elem),t||this.video.play(),this.elem.querySelector(".btn-widescreen").classList.add("active"),this.screen_state=I.UI_WIDE,this.comment_stage_resize()},to_normal_screen:function(){switch(this.screen_state){case I.UI_FULL:I.exitFullscreen(),this.elem.querySelector(".player-box").classList.remove("full"),this.set_control_bar_visible(!0);break;case I.UI_WIDE:this.elem.classList.remove("wide"),this.elem.querySelector(".player-box").classList.remove("portrait"),this.portrait_resize(0);var t=this.video.paused;this.parent.appendChild(this.elem),t||this.video.play()}try{window.player_fullwin(!1)}catch(t){}this.elem.querySelector(".btn-widescreen").classList.remove("active"),this.screen_state=I.UI_NORMAL,this.comment_stage_resize()},to_full_screen:function(){this.elem.classList.remove("wide"),this.elem.querySelector(".player-box").classList.add("full"),I.requestFullscreen(this.elem,this.video);try{window.player_fullwin(!0)}catch(t){}this.elem.querySelector(".btn-widescreen").classList.remove("active"),this.screen_state=I.UI_FULL,this.comment_stage_resize()},on_fullscreen_change:function(t){I.isFullscreen()||this.to_normal_screen()},on_display_mousemove:function(t){this.screen_state===I.UI_FULL&&(t.pageY>=2*this.elem.clientHeight/3?this.control_bar_visible||this.set_control_bar_visible(!0):this.control_bar_visible&&this.set_control_bar_visible(!1))},on_display_click:function(t){t.target===this.elem.querySelector(".display")&&(this.control_bar_visible?this.set_control_bar_visible(!1):(this.set_control_bar_visible(!0),this.get_video_state()===I.V_PLAY&&this.set_control_bar_visible(!1,this.control_bar_timer_delay)))},on_play_btn_click:function(t){this.play_video()},on_keydown:function(t){if(t.target!=this.elem.querySelector(".text-input"))switch(t.which){case 32:this.video_state!=I.V_PLAY?this.play_video():this.pause_video();break;case 37:this.seek_video(this.video_time()-5);break;case 38:break;case 39:this.seek_video(this.video_time()+5)}},on_pause_btn_click:function(t){this.pause_video()},on_share_btn_click:function(t){
"function"==typeof window.on_share_btn_click&&window.on_share_btn_click.call(this,t)},on_comment_btn_click:function(t){if(!this.danmaku)return!1;this.danmaku.visible()?(this.danmaku.visible(!1),this.elem.querySelector(".btn-comment").classList.remove("active")):(this.danmaku.visible(!0),this.elem.querySelector(".btn-comment").classList.add("active"))},on_repeat_btn_click:function(t){this.video&&(this.video.loop?(this.video.loop=!1,this.elem.querySelector(".btn-repeat").classList.remove("active")):this.elem.querySelector(".btn-repeat").classList.add("active"))},on_mute_btn_click:function(t){this.elem.querySelector(".btn-mute").classList.add("hide"),this.elem.querySelector(".btn-unmute").classList.remove("hide"),this.elem.querySelector(".control-volume-slider").classList.add("mute"),this.video&&(this.video.muted=!0)},on_unmute_btn_click:function(t){this.elem.querySelector(".btn-unmute").classList.add("hide"),this.elem.querySelector(".btn-mute").classList.remove("hide"),this.elem.querySelector(".control-volume-slider").classList.remove("mute"),this.video&&(this.video.muted=!1)},set_control_bar_visible:function(t,e){var n=this;clearTimeout(this.control_bar_timer),t!==this.control_bar_visible&&(t?(this.elem.querySelector(".control-bar").classList.remove("hide"),this.elem.querySelector(".state-icon").classList.remove("hide"),this.control_bar_visible=!0):(this.hidePlayIcon?this.hidePlayIcon=!1:this.elem.querySelector(".state-icon").classList.remove("hide"),this.control_bar_timer=setTimeout((function(){n.elem.querySelector(".control-bar").classList.add("hide"),n.elem.querySelector(".state-icon").classList.add("hide"),n.control_bar_visible=!1}),e||0)))},init_comment:function(){if("audio"!==this.options.type){var t=this.options.cmt_url||"";this.options.get_cmt_url&&(t=this.options.get_cmt_url+this.options.cid+".xml"),this.danmaku=new N({container:this.elem.querySelector(".danmaku-container"),url:t,video:this.video}),this.comment_stage_resize()}},comment_stage_resize:function(){if(!this.danmaku)return!1;this.danmaku.resize()},__GetCookie:function(t){try{var e=""+document.cookie,n=e.indexOf(t+"=");if(-1==n||""==t)return"";var i=e.indexOf(";",n);return-1==i&&(i=e.length),unescape(e.substring(n+t.length+1,i))}catch(t){return 0}},ws:function(){var t={WS_OP_HEARTBEAT:2,WS_OP_HEARTBEAT_REPLY:3,WS_OP_MESSAGE:5,WS_OP_USER_AUTHENTICATION:7,WS_OP_CONNECT_SUCCESS:8,WS_PACKAGE_HEADER_TOTAL_LENGTH:16,WS_PACKAGE_OFFSET:0,WS_HEADER_OFFSET:4,WS_VERSION_OFFSET:6,WS_OPERATION_OFFSET:8,WS_SEQUENCE_OFFSET:12},e=function(){function e(e){this.config=Object.assign({},e),this.url=this.config.url,this.packetList=[],this.packetLimit=1,this.WebSocket=window.WebSocket||window.MozWebSocket,this._WS_BINARY_HEADER_LIST=[{name:"Header Length",key:"headerLen",bytes:2,offset:t.WS_HEADER_OFFSET,value:t.WS_PACKAGE_HEADER_TOTAL_LENGTH},{name:"Protocol Version",key:"ver",bytes:2,offset:t.WS_VERSION_OFFSET,value:t.WS_HEADER_DEFAULT_VERSION},{name:"Operation",key:"op",bytes:4,offset:t.WS_OPERATION_OFFSET,value:t.WS_HEADER_DEFAULT_OPERATION},{name:"Sequence Id",key:"seq",bytes:4,offset:t.WS_SEQUENCE_OFFSET,value:t.WS_HEADER_DEFAULT_SEQUENCE}]}return e.prototype={constructor:e,_conn:null,_close:!1,retry:0,max_retry:-1,mergeArrayBuffer:function(t,e){var n=new Uint8Array(t),i=new Uint8Array(e),o=new Uint8Array(n.byteLength+i.byteLength);return o.set(n,0),o.set(i,n.byteLength),o.buffer},getDecoder:function(){return window.TextDecoder?new window.TextDecoder:{decode:function(t){return decodeURIComponent(window.escape(String.fromCharCode.apply(String,new Uint8Array(t))))}}},getEncoder:function(){return window.TextEncoder?new window.TextEncoder:{encode:function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0,o=t.length;i<o;i++)n[i]=t.charCodeAt(i);return e}}},connect:function(){if(!this.WebSocket)return!1;var e=this;this._close=!1,this._conn=new this.WebSocket(this.url),this._conn.binaryType="arraybuffer",this._conn.onopen=function(){var n=JSON.stringify({uid:e.config.uid,roomid:e.config.cid
}),i=new ArrayBuffer(t.WS_PACKAGE_HEADER_TOTAL_LENGTH),o=new DataView(i,0),r=e.getEncoder().encode(n);o.setInt32(t.WS_PACKAGE_OFFSET,t.WS_PACKAGE_HEADER_TOTAL_LENGTH+r.byteLength),o.setInt16(t.WS_HEADER_OFFSET,t.WS_PACKAGE_HEADER_TOTAL_LENGTH),o.setInt16(t.WS_VERSION_OFFSET,1),o.setInt32(t.WS_OPERATION_OFFSET,7),o.setInt32(t.WS_SEQUENCE_OFFSET,1),e._conn.send(e.mergeArrayBuffer(i,r))},this._conn.onmessage=function(t){e.parsePacket(t.data)},this._conn.onclose=function(t){e._close||(-1==e.max_retry||e.retry++<e.max_retry)&&setTimeout((function(){e.connect()}),1e3*Math.floor(3*Math.random()+3))}},heartbeat:function(){var e=new ArrayBuffer(t.WS_PACKAGE_HEADER_TOTAL_LENGTH),n=new DataView(e,0);n.setInt32(t.WS_PACKAGE_OFFSET,t.WS_PACKAGE_HEADER_TOTAL_LENGTH),n.setInt16(t.WS_HEADER_OFFSET,t.WS_PACKAGE_HEADER_TOTAL_LENGTH),n.setInt16(t.WS_VERSION_OFFSET,1),n.setInt32(t.WS_OPERATION_OFFSET,2),n.setInt32(t.WS_SEQUENCE_OFFSET,1),this._conn.send(e)},close:function(){this._close=!0,this._conn&&this._conn.close()},destroy:function(){clearInterval(this.interval_timer),this.close()},parsePacket:function(e){var n=this,i=new DataView(e,0),o=(i.getInt32(t.WS_PACKAGE_OFFSET),i.getInt16(t.WS_HEADER_OFFSET),i.getInt16(t.WS_VERSION_OFFSET),i.getInt32(t.WS_OPERATION_OFFSET));i.getInt32(t.WS_SEQUENCE_OFFSET);switch(o){case 8:n.heartbeat(),n.interval_timer=setInterval((function(){n.heartbeat()}),3e4)}}},e}();this.websocket=new e({url:"https:"==window.location.protocol?"wss://broadcast.chat.bilibili.com:4095/sub":"ws://broadcast.chat.bilibili.com:4090/sub",uid:parseInt(this.__GetCookie("DedeUserID")),cid:parseInt(this.options.cid)}),this.websocket.connect()},send_track:function(){var t=this,e={aid:this.options.aid,cid:this.options.cid,part:this.options.page||1,did:this.__GetCookie("sid")||Math.random().toString(36).slice(-8),ftime:this.__GetCookie("fts")||parseInt(new Date/1e3,10),jsonp:"jsonp",lv:"",mid:"",csrf:this.__GetCookie("bili_jct")||"",stime:""};o.a.get("//api.bilibili.com/x/web-interface/nav",{withCredentials:!0}).then((function(n){n&&200===n.status&&n.data&&n.data.data&&n.data.data.level_info&&(e.mid=n.data.data.mid,e.lv=n.data.data.level_info.current_level),t.get_system_time(e)})).catch((function(){t.get_system_time(e)}))},get_system_time:function(t){var e=this;o.a.get("//api.bilibili.com/x/report/click/now",{withCredentials:!0,params:{jsonp:"jsonp"}}).then((function(n){n&&200===n.status&&n.data&&0===n.data.code&&(t.stime=n.data.data.now),e.send_report_click(t)})).catch((function(){e.send_report_click(t)}))},send_report_click:function(t){o.a.post("//api.bilibili.com/x/report/click/h5",a.a.stringify(t),{withCredentials:!0})}};var B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e,n){if(!t)throw new Error("Event name cannot be null or undefined");if(!e||"function"!=typeof e)throw new Error("Listener must be of type function.");void 0!==this.listeners[t]?this.listeners[t].push({scope:n,callback:e}):this.listeners[t]=[{scope:n,callback:e}]}},{key:"off",value:function(t,e,n){if(void 0!==this.listeners[t]){for(var i=this.listeners[t].length,o=[],r=0;r<i;r++){var a=this.listeners[t][r];a.scope===n&&a.callback===e||o.push(a)}this.listeners[t]=o}}},{key:"dispatch",value:function(t,e){if(void 0!==this.listeners[t])for(var n=0;n<this.listeners[t].length;n++){var i=this.listeners[t][n];i&&i.callback&&i.callback.apply(i.scope,[t,e])}}}])&&q(e.prototype,n),i&&q(e,i),t}();window.BiliH5Player=function(){this.options={ele:"#bofqi",aid:null,cid:null,page:1,danmaku_number:150,season_type:null,qn:32,preload:!1,send_cmt_url:"//corpcmt.hdslb.net/post",get_cmt_url:null,live:!1,track:!1,on_state_change:null,get_from_local:!1,comment:null,image:null,video_url:null,hq:!1,retry_times:5,max_duration:null,portrait_full_screen:!1},this.eventBus=new B},BiliH5Player.prototype={constructor:BiliH5Player,on:function(t,e){this.eventBus.on(t,e,this)},off:function(t,e){this.eventBus.off(t,e,this)},create:function(t){
var e=this,n=this;if("[object Object]"===Object.prototype.toString.call(t)&&(this.options=Object.assign({},this.options,t)),!this.options.ele)return this.player={},!1;var i='<div class="player-container"><div class="dummy"></div><div class="player-box"><video'.concat("string"==typeof this.options.preload?" preload":"",' width="100%" height="100%" ').concat(t.autoplay?"autoplay ":"",'webkit-playsinline playsinline></video><div class="display"><div class="input-bar"><input class="text-input" type="text" placeholder="è¯·å¨è¿éè¾å¥å¼¹å¹" /><button class="send-btn">åé</button></div><div class="control-bar hide"> <span class="control-btn btn-play"><i class="player-icon icon-play"></i></span><span class="control-btn btn-pause hide"><i class="player-icon icon-pause"></i></span><div class="time-container"><span class="control-text time-current-text">00:00</span> <span class="control-time-split"></span> <span class="control-text time-total-text">24:00</span></div><div class="right"><span class="control-btn btn-mute"><i class="player-icon icon-mute"></i></span><span class="control-btn btn-unmute hide"><i class="player-icon icon-unmute"></i></span><span class="control-volume-slider"></span><span class="control-btn btn-comment active"><i class="player-icon icon-comment"></i></span><span class="control-btn btn-repeat"><i class="player-icon icon-repeat"></i></span><span class="control-btn btn-widescreen"><i class="player-icon icon-widescreen"></i></span><span class="control-btn btn-fullscreen active"><i class="player-icon icon-fullscreen"></i></span></div><div class="control-slider"></div></div><div class="danmaku-container"></div><div class="comment-layer"></div><div class="load-layer"><img/><i class="player-icon icon-preview"></i></div><div class="state-icon"> <i class="buff-icon"></i> <i class="pause-icon"></i> <i class="play-icon"></i></div></div></div></div>');if("audio"===this.options.type){var r='\n            <div class="audioCover">\n                <img class="background" src='.concat(this.options.image,' alt=""/>\n                <div class="backgroundCover"></div>\n                <div class="cover">\n                    <img class="coverImg" src=').concat(this.options.image,' alt=""/>\n                </div>\n            </div>\n            ');i='<div class="player-container"><div class="dummy"></div><div class="player-box"><audio '.concat(t.autoplay?"autoplay":"",'></audio><div class="display">').concat(r,'<div class="input-bar"><input class="text-input" type="text" placeholder="è¯·å¨è¿éè¾å¥å¼¹å¹" /><button class="send-btn">åé</button></div><div class="control-bar hide"> <span class="control-btn btn-play"><i class="player-icon icon-play"></i></span><span class="control-btn btn-pause hide"><i class="player-icon icon-pause"></i></span><div class="time-container"><span class="control-text time-current-text">00:00</span> <span class="control-time-split"></span> <span class="control-text time-total-text">24:00</span></div><div class="right audio"><span class="control-btn btn-mute"><i class="player-icon icon-mute"></i></span><span class="control-btn btn-unmute hide"><i class="player-icon icon-unmute"></i></span><span class="control-volume-slider"></span><span class="control-btn btn-comment active hide"><i class="player-icon icon-comment"></i></span><span class="control-btn btn-repeat"><i class="player-icon icon-repeat"></i></span><span class="control-btn btn-widescreen"><i class="player-icon icon-widescreen"></i></span><span class="control-btn btn-fullscreen active"><i class="player-icon icon-fullscreen"></i></span></div><div class="control-slider audio"></div></div><div class="comment-layer"></div><div class="load-layer"><img/><i class="player-icon icon-preview"></i></div><div class="state-icon"> <i class="buff-icon"></i> <i class="pause-icon"></i> <i class="play-icon"></i></div></div></div></div>')}var a=document.createDocumentFragment(),s=document.createElement("div");s.innerHTML=i,a.appendChild(s);var c=this.options.ele;if(Object.prototype.toString.call(this.options.ele).match(/HTML.+Element/)||(c=document.querySelector(this.options.ele)),
function(t,e){var n=document.createDocumentFragment();if("[object NodeList]"===Object.prototype.toString.call(t))for(var i=0;i<t.length;i++)n.appendChild(t[i]);else n.appendChild(t);e.appendChild(n)}(a.firstChild.childNodes,c),this.options.get_from_local)this.initialized=!0,setTimeout(this.setVideo());else if(this.options.season_type){if(!this.options.cid)return this.initialized=!0,!1;o.a.get("//api.bilibili.com/x/web-interface/view",{withCredentials:!0,params:{aid:this.options.aid}}).then((function(t){var e=t.data;e&&e.data&&e.data.pic&&(n.options.image=e.data.pic),n.setBangumi()})).catch((function(){n.setBangumi()}))}else{if(!this.options.aid)return this.initialized=!0,!1;o.a.get("//api.bilibili.com/x/web-interface/view",{withCredentials:!0,params:{aid:this.options.aid}}).then((function(t){var i=t.data;i&&i.data&&i.data.pic&&(n.options.image=i.data.pic,e.options.cid||(n.options.cid=i.data.cid)),n.setUgc()})).catch((function(){n.setUgc()}))}return this},setVideo:function(){var t=this.options,e=this;if(t.video_url){var n=t.ele;Object.prototype.toString.call(t.ele).match(/HTML.+Element/)||(n=document.querySelector(t.ele)),n=n.querySelector(".player-container"),this.options.live?this.player=new I(n,{send_cmt_url:t.send_cmt_url,get_cmt_url:t.get_cmt_url,video_url:t.video_url,video_type:null,live:!0,cmt_url:t.comment,danmaku_number:t.danmaku_number,img:t.image,on_state_change:t.on_state_change,portrait_full_screen:t.portrait_full_screen,eventBus:this.eventBus}):this.player=new I(n,{aid:t.aid,cid:t.cid,img:t.image,track:t.track,video_url:t.video_url,cmt_url:t.comment,send_cmt_url:t.send_cmt_url,get_cmt_url:t.get_cmt_url,video_type:"video/mp4",danmaku_number:t.danmaku_number,on_state_change:t.on_state_change,max_duration:t.max_duration,preload:t.preload,portrait_full_screen:t.portrait_full_screen,autoplay:t.autoplay,type:t.type,eventBus:this.eventBus}),(this.options.auto_start||this.options.autoplay)&&this.player.start_video()}else{if(this.initialized||!(retry_times>0))return this.player={},!1;setTimeout((function(){return retry_times-=1,e.setVideo(),!1}),500)}},cookie:{get:function(t){var e=""+document.cookie,n=e.indexOf(t+"=");if(-1==n||""==t)return"";var i=e.indexOf(";",n);return-1==i&&(i=e.length),unescape(e.substring(n+t.length+1,i))},set:function(t,e){var n=new Date;n.setTime(n.getTime()+72e5),document.cookie=t+"="+escape(e)+";expires="+n.toGMTString()+"; path=/; domain=.bilibili.com"}},getQuery:function(){return window.location.href.split("?")[1]},setUgc:function(){var t=this,e=this.options,n={avid:e.aid,cid:e.cid,qn:0,type:"mp4",otype:"json",fnver:0,fnval:1,platform:"html5",html5:1};e.hq&&(n.high_quality=1),o.a.get("//api.bilibili.com/x/player/playurl",{withCredentials:!0,params:n}).then((function(n){if(n&&n.data&&n.data.data&&n.data.data.durl&&n.data.data.durl[0]){var i={cid:"http://comment.bilibili.com/"+e.cid+".xml",src:n.data.data.durl[0].url,img:e.image};t.initialized=!0;try{"http:"!==window.location.protocol&&(i.cid=i.cid.replace("http://","https://"),i.src=i.src.replace("http://","https://"),i.img=i.img.replace("http://","https://"))}catch(n){}t.options.comment=i.cid,t.options.image=i.img,t.options.video_url=i.src,i.auto_start&&(t.options.auto_start=i.auto_start),t.setVideo()}else t.initialized=!0,t.options.video_url="//static.hdslb.com/error.mp4",t.setVideo()})).catch((function(t){console.error(t)}))},setBangumi:function(){var t=this,e=this.options;o.a.get("//bangumi.bilibili.com/player/web_api/v2/act/playurl",{withCredentials:!0,params:{cid:e.cid,platform:"html5",qn:e.qn||32,season_type:e.season_type,build:"0.2.0",otype:"json",type:"mp4"}}).then((function(n){var i=n.data;if(i.durl&&i.durl[0]){i.src=i.durl[0].url||i.durl[0].backup_url[0],t.initialized=!0,t.options.comment="//comment.bilibili.com/"+e.cid+".xml",t.options.video_url=i.src;try{"http:"!==window.location.protocol&&(t.options.comment=t.options.comment.replace("http://","https://"),t.options.video_url=t.options.video_url.replace("http://","https://"),t.options.image&&(t.options.image=t.options.image.replace("http://","https://")))}catch(t){}
i.auto_start&&(t.options.auto_start=i.auto_start),t.setVideo()}else t.initialized=!0,t.options.comment="//comment.bilibili.com/1.xml",t.options.image="//static.hdslb.com/images/transparent.gif",t.options.video_url="//static.hdslb.com/error.mp4",t.setVideo()})).catch((function(){t.initialized=!0,t.options.comment="//comment.bilibili.com/1.xml",t.options.image="//static.hdslb.com/images/transparent.gif",t.options.video_url="//static.hdslb.com/error.mp4",t.setVideo()}))},sendComment:function(t,e,n){if(!this.player)return!1;this.player.send_comment(t,e,n)}};var z=document.querySelector('meta[name="viewport"]');z.setAttribute("content",z.getAttribute("content")+",viewport-fit=cover")}])}));
//# sourceMappingURL=h5-player.js.map